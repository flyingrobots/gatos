# üêà‚Äç‚¨õ GATOS ROADMAP

<a id="-gatos-roadmap"></a>

<a id="-gatos-roadmap"></a>

<a id="gatos-roadmap"></a>

<a id="-gatos-roadmap"></a>

<!-- AUTOGENERATED TOC START -->

- [Guiding Principles](#guiding-principles)
- [Global Non-Goals (for the initial phases)](#global-non-goals-for-the-initial-phases)
- [Milestones Overview](#milestones-overview)
- [M0 ‚Äî Repository Skeleton & Governance](#m0--repository-skeleton--governance)
  - [Goals](#goals)
  - [Deliverables](#deliverables)
  - [Done When](#done-when)
- [M1 ‚Äî Deterministic Folds & Proof-of-Fold](#m1--deterministic-folds--proof-of-fold)
  - [Goals](#goals-1)
  - [Deliverables](#deliverables-1)
  - [Done When](#done-when-1)
- [M2 ‚Äî Push-Gate & Policy Plane](#m2--push-gate--policy-plane)
  - [Goals](#goals-2)
  - [Deliverables](#deliverables-2)
  - [Done When](#done-when-2)
- [M3 ‚Äî Message Bus (Commit-backed Pub/Sub)](#m3--message-bus-commit-backed-pubsub)
  - [Goals](#goals-3)
  - [Deliverables](#deliverables-3)
  - [Done When](#done-when-3)
- [M4 ‚Äî Job Plane + Proof-of-Execution (PoE)](#m4--job-plane--proof-of-execution-poe)
  - [Goals](#goals-4)
  - [Deliverables](#deliverables-4)
  - [Done When](#done-when-4)
- [M5 ‚Äî Opaque Pointers & Privacy Projection](#m5--opaque-pointers--privacy-projection)
  - [Goals](#goals-5)
  - [Deliverables](#deliverables-5)
  - [Done When](#done-when-5)
- [M6 ‚Äî Explorer Off-Ramp + Explorer-Root](#m6--explorer-off-ramp--explorer-root)
  - [Goals](#goals-6)
  - [Deliverables](#deliverables-6)
  - [Done When](#done-when-6)
- [M7 ‚Äî Proof-of-Experiment (PoX) & Reproduce/Verify](#m7--proof-of-experiment-pox--reproduceverify)
  - [Goals](#goals-7)
  - [Deliverables](#deliverables-7)
  - [Done When](#done-when-7)
- [M8 ‚Äî Demos & Examples](#m8--demos--examples)
  - [Deliverables](#deliverables-8)
  - [Done When](#done-when-8)
- [M9 ‚Äî Conformance & gatos doctor](#m9--conformance--gatos-doctor)
  - [Goals](#goals-8)
  - [Deliverables](#deliverables-9)
  - [Done When](#done-when-9)

<!-- AUTOGENERATED TOC END -->

**Git As The Operating Surface ‚Äî A Truth Machine for Distributed Systems & Science**

This roadmap outlines the path from **0 lines of code** to the **first reproducible scientific experiment** verified end-to-end with GATOS.

It follows a strict **proof-first** philosophy:

- **Proof-of-Fold (PoF)** ‚Äî state is verifiably derived from history.
- **Proof-of-Execution (PoE)** ‚Äî jobs are verifiably executed.
- **Proof-of-Experiment (PoX)** ‚Äî experiments are verifiably reproducible.

---

## Guiding Principles

<a id="guiding-principles"></a>

<a id="guiding-principles"></a>

<a id="guiding-principles"></a>

- **Proof-first Design** ‚Äî Every claim is verifiable from first principles.
- **Deterministic by Construction** ‚Äî Same history + same policy = same state, bit-for-bit.
- **Git as History, not Database** ‚Äî Git stores events, checkpoints, and proofs; bulk data lives behind Opaque Pointers; heavy analytics via Explorer off-ramp.
- **Research Profile Defaults** ‚Äî A conservative profile for scientific reproducibility (PoF required, policy FF-only, anchored audit refs).
- **At-Least-Once + Idempotency** ‚Äî Delivery is at-least-once; consumers dedupe idempotently. No ‚Äúexactly-once‚Äù fairy tales.

---

## Global Non-Goals (for the initial phases)

<a id="global-non-goals-for-the-initial-phases"></a>

<a id="global-non-goals-for-the-initial-phases"></a>

<a id="global-non-goals-for-the-initial-phases"></a>

These are explicit non-goals until after the core truth machine is working:

- A fully featured **multi-peer networking layer** (start single-node).
- A **cluster scheduler** or full-blown job orchestration system.
- A replacement for **Kafka** or high-throughput brokers.
- A hosted ‚ÄúGATOS Cloud‚Äù product.
- Strong isolation / capability-based sandboxing beyond basic VM guarantees

  (initial focus is determinism and correctness, not perfect sandbox security).

---

## Milestones Overview

<a id="milestones-overview"></a>

<a id="milestones-overview"></a>

<a id="milestones-overview"></a>

| Milestone | Goal                                                   |
| --------- | ------------------------------------------------------ |
| **M0**    | Repo, scaffolding, canonicalization, ADR process       |
| **M1**    | EchoLua fold engine + Proof-of-Fold (PoF)              |
| **M2**    | Push-gate, .rgs policy, DENY-audit, grants             |
| **M3**    | Commit-backed Message Bus (segmented, TTL, summaries)  |
| **M4**    | Job Plane + Proof-of-Execution (PoE)                   |
| **M5**    | Opaque Pointers + privacy-preserving projection        |
| **M6**    | Explorer off-ramp + Explorer-Root verification         |
| **M7**    | Proof-of-Experiment (PoX) + reproduce/verify CLI       |
| **M8**    | Demos & examples (Bisect, ADR-as-policy, PoX)          |
| **M9**    | Conformance suite + `gatos doctor`                     |
| **M10**   | Security & hardening                                   |
| **M11**   | Community & Launch (docs, blog, outreach)              |
| **M12**   | Wesley integration & schema tooling (optional Phase 2) |

---

## **M0 ‚Äî Repository Skeleton & Governance**

<a id="m0--repository-skeleton--governance"></a>

<a id="m0--repository-skeleton--governance"></a>

<a id="m0-repository-skeleton-governance"></a>

<a id="m0--repository-skeleton--governance"></a>

**1‚Äì2 weeks**

### Goals

<a id="goals"></a>

<a id="goals"></a>

<a id="goals"></a>

<a id="goals-0"></a>

- Establish clean project layout and contribution flow.
- Lock in canonical encodings and profiles.

### Deliverables

<a id="deliverables"></a>

<a id="deliverables"></a>

<a id="deliverables"></a>

<a id="deliverables-0"></a>

- Repo structure + Rust workspace + crate skeletons.
- ADR/RFC process (`/spec/adr`).
- Canonical encodings:
  - **DAG-CBOR** for signed data (events, proofs) as per SPEC ¬ß2.
  - **RFC 8785 JCS** for JSON artifacts (pointers, manifests, exporter metadata).
- CLI shim: `git-gatos` (or alias).
- Profiles: `default` and `research`.
- Initial documentation scaffold:
  - `SPEC.md`, `TECH-SPEC.md`, `research-profile.md`
  - `opaque-pointers.md`, `exporter.md`, `proof-of-experiment.md`
  - Event model sketch: `EventEnvelope` (SPEC ¬ß4.1) and journal layout (SPEC ¬ß4.2).

### Done When

<a id="done-when"></a>

<a id="done-when"></a>

<a id="done-when"></a>

<a id="done-when-0"></a>

- `git gatos --help` prints.
- ADR to lock canonical encoding merged.
- CI workflows exist (lint, fmt, build).
- No code written, but architecture is set.

---

## **M1 ‚Äî Deterministic Folds & Proof-of-Fold**

<a id="m1--deterministic-folds--proof-of-fold"></a>

<a id="m1--deterministic-folds--proof-of-fold"></a>

<a id="m1-deterministic-folds-proof-of-fold"></a>

<a id="m1--deterministic-folds--proof-of-fold"></a>

**3‚Äì5 weeks**

### Goals

<a id="goals-1"></a>

<a id="goals-1"></a>

<a id="goals-2"></a>

<a id="goals-1"></a>

- Turn Git history into deterministic state.
- Establish cryptographic proof-of-fold (PoF).

### Deliverables

<a id="deliverables-1"></a>

<a id="deliverables-1"></a>

<a id="deliverables-2"></a>

<a id="deliverables-1"></a>

- `gatos-core` fold engine (EchoLua / ELC reducer; see TECH-SPEC ¬ß3 and `deterministic-lua.md`).
- EventEnvelope (DAG-CBOR) parser, conforming to SPEC ¬ß4.1.
- StateRoot computation + PoF envelope.
- Checkpoint commits under `refs/gatos/state/**`.
- CLI:
  - `git gatos state show`
  - `git gatos fold verify <ref>`

### Done When

<a id="done-when-1"></a>

<a id="done-when-1"></a>

<a id="done-when-2"></a>

<a id="done-when-1"></a>

- Same ledger on different machines ‚Üí identical state\_root.
- PoF verifies across OSes.
- Platform determinism tests pass.

---

## **M2 ‚Äî Push-Gate & Policy Plane**

<a id="m2--push-gate--policy-plane"></a>

<a id="m2--push-gate--policy-plane"></a>

<a id="m2-push-gate-policy-plane"></a>

<a id="m2--push-gate--policy-plane"></a>

**3‚Äì4 weeks**

### Goals

<a id="goals-2"></a>

<a id="goals-2"></a>

<a id="goals-3"></a>

- Enforce governance at the boundary of history.

### Deliverables

<a id="deliverables-2"></a>

<a id="deliverables-2"></a>

<a id="deliverables-3"></a>

- Pre-receive gate:
  - Reject non-FF pushes to `policies/**`, `state/**`, `audit/**`.
  - Reject state pushes lacking PoF.
- Deterministic policy VM using the EchoLua runtime profile (see `deterministic-lua.md` and SPEC ¬ß6).
- DENY-audit under `refs/gatos/audit/policy/**`.
- Governance MVP:
  - proposals ‚Üí approvals ‚Üí grants (N-of-M).
- Local enforcement:
  - `gatos watch` daemon enforces `.gatos/policy.yaml` locks and mirrors grants locally.
  - Managed Git hooks (`pre-commit`, `pre-push`, `post-checkout`) installed via CLI and logged under `refs/gatos/audit/locks/*`.
  - `gatos lock acquire/release` CLI bridges users to ADR-0003 grants.

### Done When

<a id="done-when-2"></a>

<a id="done-when-2"></a>

<a id="done-when-3"></a>

- Rebasing policy refs is impossible.
- Violating commits produce DENY events.
- Policy ADR-as-code works end-to-end.
- Locked assets remain read-only locally until the matching Grant lands; hook bypasses are audited.

---

## **M3 ‚Äî Message Bus (Commit-backed Pub/Sub)**

<a id="m3--message-bus-commit-backed-pubsub"></a>

<a id="m3--message-bus-commit-backed-pubsub"></a>

<a id="m3-message-bus-commit-backed-pub-sub"></a>

<a id="m3--message-bus-commit-backed-pubsub"></a>

<a id="m3-message-bus-commit-backed-pubsub"></a>
**3‚Äì5 weeks**

### Goals

<a id="goals-3"></a>

<a id="goals-3"></a>

<a id="goals-4"></a>

- Robust commit-backed pub/sub without turning Git into Kafka.

### Deliverables

<a id="deliverables-3"></a>

<a id="deliverables-3"></a>

<a id="deliverables-4"></a>

- Namespaced Message Plane topics:

  `refs/gatos/messages/<topic>/<yyyy>/<mm>/<dd>/<segment-ulid>` with `refs/gatos/messages/<topic>/head` pointing at the latest segment.

- QoS: **at-least-once + ULID/idempotency + checkpoint dedupe** via `refs/gatos/consumers/<group>/<topic>`.

- Rotation thresholds:
  - max 100k messages **or** 192MB per segment

- TTL: default 30 days.

- Summary commits: Merkle root, counts, offsets.

- Metrics: segment size, rotation hints.

### Done When

<a id="done-when-3"></a>

<a id="done-when-3"></a>

<a id="done-when-4"></a>

- Subscribers dedupe correctly.
- Segments rotate & prune.
- Repo does NOT balloon.

---

## **M4 ‚Äî Job Plane + Proof-of-Execution (PoE)**

<a id="m4--job-plane--proof-of-execution-poe"></a>

<a id="m4--job-plane--proof-of-execution-poe"></a>

<a id="m4-job-plane-proof-of-execution-poe"></a>

<a id="m4--job-plane--proof-of-execution-poe"></a>

**4‚Äì6 weeks**

### Goals

<a id="goals-4"></a>

<a id="goals-4"></a>

<a id="goals-5"></a>

- Off-chain compute with verifiable proofs.

### Deliverables

<a id="deliverables-4"></a>

<a id="deliverables-4"></a>

<a id="deliverables-5"></a>

- Exclusive CAS lock refs: `refs/gatos/jobs/<job-id>/claims/<worker-id>` (expected old = zero OID; policy enforces exclusivity + retries).
- Worker loop:
  - subscribe ‚Üí claim ‚Üí run ‚Üí commit result.
- PoE envelope: inputs\_root, program\_id, outputs\_root.
- CLI helpers for job lifecycle.

### Done When

<a id="done-when-4"></a>

<a id="done-when-4"></a>

<a id="done-when-5"></a>

- Two workers ‚Üí exactly one claim.
- PoE verifies replayably.
- Jobs run deterministically with tracked provenance.

---

## **M5 ‚Äî Opaque Pointers & Privacy Projection**

<a id="m5--opaque-pointers--privacy-projection"></a>

<a id="m5--opaque-pointers--privacy-projection"></a>

<a id="m5-opaque-pointers-privacy-projection"></a>

<a id="m5--opaque-pointers--privacy-projection"></a>

**4‚Äì6 weeks**

### Goals

<a id="goals-5"></a>

<a id="goals-5"></a>

<a id="goals-6"></a>

- Public verifiability + private data.

### Deliverables

<a id="deliverables-5"></a>

<a id="deliverables-5"></a>

<a id="deliverables-6"></a>

- Public pointer schema:
  - Canonical JSON envelope with `kind: "opaque_pointer"`, `algo`, `digest`, and optional bucketed `size` (1k/4k/16k/64k).
  - `location` URI describing where to fetch private bytes (`gatos-node://`, `https://`, `s3://`, `ipfs://`, etc.).
  - `capability` URI describing how to authorize/decrypt (`gatos-key://`, `kms://`, `age://`, etc.).
  - `digest` is the BLAKE3 hash of the raw plaintext blob committed out-of-band; ciphertext hashes are not recorded in Git.
- Resolver: JWT + Digest verification; logs under audit.
- Projection engine performs pointerization deterministically.

### Done When

<a id="done-when-5"></a>

<a id="done-when-5"></a>

<a id="done-when-6"></a>

- Public state contains no leakable fields.
- Resolver always returns correct bytes & digest.
- Projection determinism holds across OSes.

---

## **M6 ‚Äî Explorer Off-Ramp + Explorer-Root**

<a id="m6--explorer-off-ramp--explorer-root"></a>

<a id="m6--explorer-off-ramp--explorer-root"></a>

<a id="m6-explorer-off-ramp-explorer-root"></a>

<a id="m6--explorer-off-ramp--explorer-root"></a>

**3‚Äì4 weeks**

### Goals

<a id="goals-6"></a>

<a id="goals-6"></a>

<a id="goals-7"></a>

- Verifiable large-scale analytics outside Git.

### Deliverables

<a id="deliverables-6"></a>

<a id="deliverables-6"></a>

<a id="deliverables-7"></a>

- Export to Parquet/SQLite (derived and raw views).
- Explorer-Root checksum computed per SPEC ¬ß15.1 / TECH-SPEC ¬ß14 (canonical BE32-prefixed concatenation of `ledger_head`, `policy_root`, optional `fold_root`, and `extractor_version`).
- CLI: `export`, `export verify`.

### Done When

<a id="done-when-6"></a>

<a id="done-when-6"></a>

<a id="done-when-7"></a>

- Exports verify on clean machines.
- Mutations ‚Üí `verify` fails.

---

## **M7 ‚Äî Proof-of-Experiment (PoX) & Reproduce/Verify**

<a id="m7--proof-of-experiment-pox--reproduceverify"></a>

<a id="m7--proof-of-experiment-pox--reproduceverify"></a>

<a id="m7-proof-of-experiment-pox-reproduce-verify"></a>

<a id="m7--proof-of-experiment-pox--reproduceverify"></a>

<a id="m7-proof-of-experiment-pox-reproduceverify"></a>
**4‚Äì6 weeks**

### Goals

<a id="goals-7"></a>

<a id="goals-7"></a>

<a id="goals-8"></a>

- Machine-checkable science.

### Deliverables

<a id="deliverables-7"></a>

<a id="deliverables-7"></a>

<a id="deliverables-8"></a>

- PoX envelope stored under

  `refs/gatos/audit/proofs/experiments/<ulid>`

- CLI:
  - `gatos verify <pox-id>`
  - `gatos reproduce <pox-id>`

- Clean-room reproduction: pointer fetch + PoE + PoF.

### Done When

<a id="done-when-7"></a>

<a id="done-when-7"></a>

<a id="done-when-8"></a>

- Reproduction yields bit-for-bit identical results.
- Drift causes explicit, inspectable failure.

---

## **M8 ‚Äî Demos & Examples**

<a id="m8--demos--examples"></a>

<a id="m8--demos--examples"></a>

<a id="m8-demos-examples"></a>

<a id="m8--demos--examples"></a>

**1‚Äì2 weeks**

### Deliverables

<a id="deliverables-8"></a>

<a id="deliverables-8"></a>

<a id="deliverables-9"></a>

- ADR-as-policy demo
- Bisect-for-state demo
- PoX reproducibility demo
- GIFs embedded in README

### Done When

<a id="done-when-8"></a>

<a id="done-when-8"></a>

<a id="done-when-9"></a>

- All three run with a single command.
- Suitable for readme, talks, Twitter/YouTube.

---

## **M9 ‚Äî Conformance & `gatos doctor`**

<a id="m9--conformance--gatos-doctor"></a>

<a id="m9--conformance--gatos-doctor"></a>

<a id="m9-conformance-gatos-doctor"></a>

<a id="m9--conformance--gatos-doctor"></a>

**3‚Äì4 weeks**

### Goals

<a id="goals-8"></a>

<a id="goals-8"></a>

<a id="goals-9"></a>

- Turn correctness into automation.

### Deliverables

<a id="deliverables-9"></a>

<a id="deliverables-9"></a>

<a id="deliverables-10"></a>

- Conformance suite:
  - QoS
  - exclusive claim race
  - pointer privacy
  - projection determinism
  - PoF verification
  - Explorer-Root
- CLI: `gatos doctor`

### Done When

<a id="done-when-9"></a>

<a id="done-when-9"></a>

<a id="done-when-10"></a>

- CI runs full suite green.
- `doctor` correctly warns for misconfigurations.

---

# üéØ ‚ÄúFor Science‚Äù Early Access Checklist

<a id="for-science-early-access-checklist"></a>
**GATOS is science-ready when:**

- Profile: `research` is default for new repos
- PoF required
- Policy FF-only
- Opaque Pointer privacy safe
- Bus segmented & rotated
- PoX demo runs clean-room
- Export ‚Üí verify works
- Bisect-for-state works

---

# üéâ Endgame

<a id="endgame"></a>

When **M7** lands (PoX + reproduce), GATOS becomes the **first reproducibility OS**.\
When **M8/M9** land, it becomes a **trustworthy distributed compute fabric.**

*Now you Git it.*
