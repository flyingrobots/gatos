# ROADMAP — xtask and CI tooling

<a id="roadmap--xtask-and-ci-tooling"></a>

<a id="roadmap--xtask-and-ci-tooling"></a>

<a id="roadmap-xtask-and-ci-tooling"></a>

<!-- AUTOGENERATED TOC START -->

- [Goals](#goals)
- [Landed](#landed)
- [Near-term](#near-term)
- [Backlog](#backlog)

<!-- AUTOGENERATED TOC END -->

Status: living document. Tracks phases, decisions, and next steps for repo tooling.

## Goals

<a id="goals"></a>

<a id="goals"></a>

<a id="goals"></a>

- Single entrypoint for repo tasks (diagrams, schemas, links) with CI parity.
- Deterministic, reproducible pipelines (pin tools, cache heavy deps, verify outputs).
- Developer ergonomics: clear Makefile shims + `make help`.

## Landed

<a id="landed"></a>

<a id="landed"></a>

<a id="landed"></a>

- `xtask` crate with `diagrams`, `schemas`, `links` subcommands.
- Mermaid: metadata embedding + verification (src/index/hash/cli), Chromium preinstall in CI.
- Schemas: AJV compile/validate/negative via `xtask schemas`.
- Linkcheck: lychee CLI with `LYCHEE_GITHUB_TOKEN`; binary cached in CI.
- Makefile shims + `help` target; docs(CONTRIBUTING) quickstart.
- Issue labeler + backfill workflows.

## Near-term

<a id="near-term"></a>

<a id="near-term"></a>

<a id="near-term"></a>

- Extract a reusable “puppeteer install” composite Action; add a “CI doctor” step (print versions, paths).
- Decide policy for diagrams: commit SVGs vs verify-only.
- Finalize split of responsibilities: keep a thin shell wrapper (`scripts/diagrams.sh`) for Mermaid (Node/Docker), and use `xtask` for Rust-based workflows (schemas, linkcheck, markdown).

## Backlog

<a id="backlog"></a>

<a id="backlog"></a>

<a id="backlog"></a>

- Distribute `xtask` as a prebuilt binary (optional).
- Dev container for local parity.
