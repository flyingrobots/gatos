<svg width="767.1640625" height="483.5" preserveAspectRatio="xMidYMid meet" style="background-color: white" aria-roledescription="stateDiagram" role="graphics-document document" viewBox="0 0 767.1640625 483.5" class="statediagram" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="my-svg"><!-- mermaid-meta: {"src":"docs/diagrams/state_management.md","index":1,"code_sha256":"a16bba87a3ea0b0b8e35a7645eb1f447492e6f8923dcba0392f07e84420b5813","cli":"10.9.0","gen":"v1"} -->
<style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:2px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg defs #statediagram-barbEnd{fill:#333333;stroke:#333333;}#my-svg g.stateGroup text{fill:#9370DB;stroke:none;font-size:10px;}#my-svg g.stateGroup text{fill:#333;stroke:none;font-size:10px;}#my-svg g.stateGroup .state-title{font-weight:bolder;fill:#131300;}#my-svg g.stateGroup rect{fill:#ECECFF;stroke:#9370DB;}#my-svg g.stateGroup line{stroke:#333333;stroke-width:1;}#my-svg .transition{stroke:#333333;stroke-width:1;fill:none;}#my-svg .stateGroup .composit{fill:white;border-bottom:1px;}#my-svg .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#my-svg .state-note{stroke:#aaaa33;fill:#fff5ad;}#my-svg .state-note text{fill:black;stroke:none;font-size:10px;}#my-svg .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#my-svg .edgeLabel .label rect{fill:#ECECFF;opacity:0.5;}#my-svg .edgeLabel .label text{fill:#333;}#my-svg .label div .edgeLabel{color:#333;}#my-svg .stateLabel text{fill:#131300;font-size:10px;font-weight:bold;}#my-svg .node circle.state-start{fill:#333333;stroke:#333333;}#my-svg .node .fork-join{fill:#333333;stroke:#333333;}#my-svg .node circle.state-end{fill:#9370DB;stroke:white;stroke-width:1.5;}#my-svg .end-state-inner{fill:white;stroke-width:1.5;}#my-svg .node rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .node polygon{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg #statediagram-barbEnd{fill:#333333;}#my-svg .statediagram-cluster rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .cluster-label,#my-svg .nodeLabel{color:#131300;}#my-svg .statediagram-cluster rect.outer{rx:5px;ry:5px;}#my-svg .statediagram-state .divider{stroke:#9370DB;}#my-svg .statediagram-state .title-state{rx:5px;ry:5px;}#my-svg .statediagram-cluster.statediagram-cluster .inner{fill:white;}#my-svg .statediagram-cluster.statediagram-cluster-alt .inner{fill:#f0f0f0;}#my-svg .statediagram-cluster .inner{rx:0;ry:0;}#my-svg .statediagram-state rect.basic{rx:5px;ry:5px;}#my-svg .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#f0f0f0;}#my-svg .note-edge{stroke-dasharray:5;}#my-svg .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#my-svg .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#my-svg .statediagram-note text{fill:black;}#my-svg .statediagram-note .nodeLabel{color:black;}#my-svg .statediagram .edgeLabel{color:red;}#my-svg #dependencyStart,#my-svg #dependencyEnd{fill:#333333;stroke:#333333;stroke-width:1;}#my-svg .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerUnits="strokeWidth" markerHeight="14" markerWidth="20" refY="7" refX="19" id="my-svg_statediagram-barbEnd"><path d="M 19,7 L9,13 L14,7 L9,1 Z"/></marker></defs><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge0" d="M326.947,22L326.947,26.167C326.947,30.333,326.947,38.667,326.947,47C326.947,55.333,326.947,63.667,326.947,67.833L326.947,72"/><path marker-end="url(#my-svg_statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge1" d="M292.177,105.5L280.327,111.208C268.477,116.917,244.778,128.333,232.928,139.75C221.078,151.167,221.078,162.583,221.078,168.292L221.078,174"/><path marker-end="url(#my-svg_statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge2" d="M190.705,207.5L180.353,213.208C170.002,218.917,149.3,230.333,138.949,244.542C128.598,258.75,128.598,275.75,128.598,292.75C128.598,309.75,128.598,326.75,128.598,340.958C128.598,355.167,128.598,366.583,128.598,372.292L128.598,378"/><path marker-end="url(#my-svg_statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge3" d="M251.452,207.5L261.803,213.208C272.154,218.917,292.856,230.333,303.207,241.75C313.559,253.167,313.559,264.583,313.559,270.292L313.559,276"/><path marker-end="url(#my-svg_statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge4" d="M128.598,411.5L128.598,415.667C128.598,419.833,128.598,428.167,173.632,437.533C218.667,446.899,308.737,457.298,353.771,462.498L398.806,467.697"/><path marker-end="url(#my-svg_statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge5" d="M313.559,309.5L313.559,315.208C313.559,320.917,313.559,332.333,325.408,343.75C337.258,355.167,360.958,366.583,372.807,372.292L384.657,378"/><path marker-end="url(#my-svg_statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge6" d="M342.922,297.042L396.178,304.827C449.435,312.611,555.948,328.181,609.204,341.674C662.461,355.167,662.461,366.583,662.461,372.292L662.461,378"/><path marker-end="url(#my-svg_statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge7" d="M454.198,378L466.048,372.292C477.898,366.583,501.597,355.167,513.447,340.958C525.297,326.75,525.297,309.75,525.297,292.75C525.297,275.75,525.297,258.75,525.297,241.75C525.297,224.75,525.297,207.75,525.297,190.75C525.297,173.75,525.297,156.75,499.328,141.573C473.36,126.396,421.423,113.042,395.455,106.365L369.486,99.688"/><path marker-end="url(#my-svg_statediagram-barbEnd)" style="fill:none" class="edge-thickness-normal transition" id="edge8" d="M662.461,411.5L662.461,415.667C662.461,419.833,662.461,428.167,620.835,437.522C579.209,446.878,495.958,457.256,454.332,462.445L412.706,467.634"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(221.078125, 139.75)" class="edgeLabel"><g transform="translate(-118.11328125, -9.25)" class="label"><rect height="18.5" width="236.2265625" ry="0" rx="0"/><foreignObject height="18.5" width="236.2265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Worker consumes `bus.message`</span></div></foreignObject></g></g><g transform="translate(128.59765625, 292.75)" class="edgeLabel"><g transform="translate(-120.59765625, -9.25)" class="label"><rect height="18.5" width="241.1953125" ry="0" rx="0"/><foreignObject height="18.5" width="241.1953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">`jobs.result` (ok) event recorded</span></div></foreignObject></g></g><g transform="translate(313.55859375, 241.75)" class="edgeLabel"><g transform="translate(-124.0703125, -9.25)" class="label"><rect height="18.5" width="248.140625" ry="0" rx="0"/><foreignObject height="18.5" width="248.140625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">`jobs.result` (fail) event recorded</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(313.55859375, 343.75)" class="edgeLabel"><g transform="translate(-92.5078125, -9.25)" class="label"><rect height="18.5" width="185.015625" ry="0" rx="0"/><foreignObject height="18.5" width="185.015625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">`attempts` &lt; max_retries</span></div></foreignObject></g></g><g transform="translate(662.4609375, 343.75)" class="edgeLabel"><g transform="translate(-96.703125, -9.25)" class="label"><rect height="18.5" width="193.40625" ry="0" rx="0"/><foreignObject height="18.5" width="193.40625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">`attempts` &gt;= max_retries</span></div></foreignObject></g></g><g transform="translate(525.296875, 241.75)" class="edgeLabel"><g transform="translate(-67.66796875, -9.25)" class="label"><rect height="18.5" width="135.3359375" ry="0" rx="0"/><foreignObject height="18.5" width="135.3359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Job is re-published</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><rect height="0" width="0" ry="0" rx="0"/><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(326.947265625, 15)" data-id="root_start" data-node="true" id="state-root_start-0" class="node default"><circle height="14" width="14" r="7" class="state-start"/></g><g transform="translate(326.947265625, 88.75)" data-id="Enqueued" data-node="true" id="state-Enqueued-7" class="node  statediagram-state undefined"><rect height="33.5" width="85.078125" y="-16.75" x="-42.5390625" style="" class="basic label-container"/><g transform="translate(-35.0390625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="70.078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Enqueued</span></div></foreignObject></g></g><g transform="translate(221.078125, 190.75)" data-id="Processing" data-node="true" id="state-Processing-3" class="node  statediagram-state undefined"><rect height="33.5" width="88.9140625" y="-16.75" x="-44.45703125" style="" class="basic label-container"/><g transform="translate(-36.95703125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="73.9140625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Processing</span></div></foreignObject></g></g><g transform="translate(128.59765625, 394.75)" data-id="Succeeded" data-node="true" id="state-Succeeded-4" class="node  statediagram-state undefined"><rect height="33.5" width="91.2890625" y="-16.75" x="-45.64453125" style="" class="basic label-container"/><g transform="translate(-38.14453125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="76.2890625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Succeeded</span></div></foreignObject></g></g><g transform="translate(313.55859375, 292.75)" data-id="Failed" data-node="true" id="state-Failed-6" class="node  statediagram-state undefined"><rect height="33.5" width="58.7265625" y="-16.75" x="-29.36328125" style="" class="basic label-container"/><g transform="translate(-21.86328125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="43.7265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Failed</span></div></foreignObject></g></g><g transform="translate(405.759765625, 468.5)" data-id="root_end" data-node="true" id="state-root_end-8" class="node default"><circle height="14" width="14" r="7" class="state-start"/><circle height="10" width="10" r="5" class="state-end"/></g><g transform="translate(419.427734375, 394.75)" data-id="Retrying" data-node="true" id="state-Retrying-7" class="node  statediagram-state undefined"><rect height="33.5" width="74.1796875" y="-16.75" x="-37.08984375" style="" class="basic label-container"/><g transform="translate(-29.58984375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="59.1796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Retrying</span></div></foreignObject></g></g><g transform="translate(662.4609375, 394.75)" data-id="DeadLetterQueue" data-node="true" id="state-DeadLetterQueue-8" class="node  statediagram-state undefined"><rect height="33.5" width="141.0703125" y="-16.75" x="-70.53515625" style="" class="basic label-container"/><g transform="translate(-63.03515625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="126.0703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">DeadLetterQueue</span></div></foreignObject></g></g></g></g></g></svg>
