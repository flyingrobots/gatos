<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GATOS — SPEC v0.3 (Draft) | GATOS</title>
    <meta name="description" content="Git As The Operating Surface">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/gatos/pr-preview/pr-64/assets/style.B4hd1-5U.css" as="style">
    <link rel="preload stylesheet" href="/gatos/pr-preview/pr-64/vp-icons.css" as="style">
    
    <script type="module" src="/gatos/pr-preview/pr-64/assets/app.DrRrGYUm.js"></script>
    <link rel="preload" href="/gatos/pr-preview/pr-64/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/gatos/pr-preview/pr-64/assets/chunks/theme.C6RZ5RmL.js">
    <link rel="modulepreload" href="/gatos/pr-preview/pr-64/assets/chunks/framework.BXNB9gP7.js">
    <link rel="modulepreload" href="/gatos/pr-preview/pr-64/assets/SPEC.md.CeF-G8eW.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <script>import("/gatos/pr-preview/pr-64/pagefind/pagefind.js").then(i=>{window.__pagefind__=i,i.init()}).catch(()=>{});</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/gatos/pr-preview/pr-64/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>GATOS</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="blog-search search" data-pagefind-ignore="all" data-v-6aa21345 data-v-9c3ad077><div class="nav-search-btn-wait" data-v-9c3ad077><span data-v-9c3ad077><svg width="14" height="14" viewBox="0 0 20 20" data-v-9c3ad077><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" data-v-9c3ad077></path></svg></span><span class="search-tip" data-v-9c3ad077>Search</span><span class="metaKey" data-v-9c3ad077> K </span></div><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/gatos/pr-preview/pr-64/guide/CHAPTER-001.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Book</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/gatos/pr-preview/pr-64/SPEC.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>SPEC</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/gatos/pr-preview/pr-64/TECH-SPEC.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>TECH-SPEC</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/gatos/pr-preview/pr-64/decisions/README.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>ADRs</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/flyingrobots/gatos" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/flyingrobots/gatos" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Reference</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/gatos/pr-preview/pr-64/SPEC.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>SPEC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/gatos/pr-preview/pr-64/TECH-SPEC.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>TECH-SPEC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/gatos/pr-preview/pr-64/decisions/README.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ADRs</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _gatos_pr-preview_pr-64_SPEC" data-v-39a288b8><div data-pagefind-body="true"><h1 id="gatos-—-spec-v0-3-draft" tabindex="-1">GATOS — SPEC v0.3 (Draft) <a class="header-anchor" href="#gatos-—-spec-v0-3-draft" aria-label="Permalink to &quot;GATOS — SPEC v0.3 (Draft)&quot;">​</a></h1><p><a id="gatos-spec-v0.3-draft"></a></p><p><a id="gatos-spec-v0.3-draft"></a></p><ul><li><a href="#git-as-the-operating-surface">Git As The Operating Surface</a></li><li><a href="#0">0. Conventions</a></li><li><a href="#1">1. System Model</a><ul><li><a href="#requirements">Requirements</a></li></ul></li><li><a href="#2">2. On-Disk Layout (Normative)</a></li><li><a href="#3">3. Identities, Actors, and Grants</a><ul><li><a href="#3.1">3.1 Actors</a></li><li><a href="#3.2">3.2 Capability Grants</a></li></ul></li><li><a href="#4">4. Events (Ledger Plane)</a><ul><li><a href="#4.1">4.1 Event Envelope</a></li><li><a href="#4.2">4.2 Journal Semantics</a></li></ul></li><li><a href="#5">5. State (Deterministic Folds)</a><ul><li><a href="#5.1">5.1 Fold Function</a></li><li><a href="#5.2">5.2 Fold Spec &amp; Checkpoints</a></li><li><a href="#5.3">5.3 State Checkpoint Trailers (Normative)</a></li><li><a href="#5.4">5.4 Proof-of-Fold (PoF)</a></li></ul></li><li><a href="#6">6. Policy &amp; Decision Audit</a><ul><li><a href="#6.1">6.1 Gate Contract</a></li></ul></li><li><a href="#7">7. Blob Pointers &amp; Opaque Storage (Hybrid Privacy)</a></li><li><a href="#8">8. Message Bus (Commit-Backed Pub/Sub)</a></li><li><a href="#9">9. Sessions (Working Branches)</a></li><li><a href="#10">10. Proofs (Commitments / ZK)</a><ul><li><a href="#10">10.x Proof-of-Experiment (PoX)</a></li></ul></li><li><a href="#11">11. Offline Authority Protocol (OAP)</a></li><li><a href="#12">12. Profiles</a><ul><li><a href="#12.1">12.1 Research Profile (Strict)</a></li></ul></li><li><a href="#13">13. Observability &amp; Health</a></li><li><a href="#14">14. Security Model</a></li><li><a href="#15">15. Performance &amp; GC</a><ul><li><a href="#15.1">15.1 Exports and Explorer-Root (Normative)</a></li></ul></li><li><a href="#16">16. Compliance &amp; Tests (Normative)</a><ul><li><a href="#16.1">16.1 Consensus Integrity (Normative)</a></li><li><a href="#16.2">16.2 Additional Checks (Normative)</a></li></ul></li><li><a href="#17">17. CLI (Reference)</a></li><li><a href="#18">18. Example Use Case: A Git-Native Work Queue</a></li><li><a href="#19">19. Job Plane (Compute)</a><ul><li><a href="#19.1">19.1 Job Lifecycle</a></li><li><a href="#19.2">19.2 Job Discovery</a></li><li><a href="#19.3">19.3 Proof-Of-Execution</a></li></ul></li><li><a href="#20">20. Consensus Governance (Normative)</a><ul><li><a href="#20.1">20.1 Workflow</a></li><li><a href="#20.2">20.2 Commit Structures (Trailers)</a></li><li><a href="#20.3">20.3 Proof-Of-Consensus (PoC)</a></li><li><a href="#20.4">20.4 Lifecycle States</a></li><li><a href="#20.5">20.5 Revocation</a></li><li><a href="#20.6">20.6 Bus Topics (recommended)</a></li></ul></li><li><a href="#glossary">Glossary</a></li></ul><p><a id="gatos-spec-v0.3-draft"></a></p><blockquote><p><em>The key to understanding GATOS is understanding that it&#39;s just Git.</em></p></blockquote><h2 id="git-as-the-operating-surface" tabindex="-1">Git As The Operating Surface <a class="header-anchor" href="#git-as-the-operating-surface" aria-label="Permalink to &quot;Git As The Operating Surface&quot;">​</a></h2><p><a id="git-as-the-operating-surface"></a></p><p><a id="git-as-the-operating-surface"></a></p><blockquote><p>You use Git for source control.<br><em>I use Git for reality control.</em><br><em>We are not the same.</em><br><strong>GATOS: Git Different.</strong></p></blockquote><table tabindex="0"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Status</strong></td><td>Draft (implementation underway)</td></tr><tr><td><strong>Scope</strong></td><td>Normative specification of data model, on-disk layout, protocols, and behavioral guarantees.</td></tr><tr><td><strong>Audience</strong></td><td>Implementers, auditors, integrators.</td></tr></tbody></table><hr><h2 id="_0-conventions" tabindex="-1">0. Conventions <a class="header-anchor" href="#_0-conventions" aria-label="Permalink to &quot;0. Conventions&quot;">​</a></h2><p><a id="0"></a><a id="0.-conventions"></a></p><p><a id="0"></a><a id="0.-conventions"></a></p><p>The keywords <strong>MUST</strong>, <strong>MUST NOT</strong>, <strong>REQUIRED</strong>, <strong>SHALL</strong>, <strong>SHALL NOT</strong>, <strong>SHOULD</strong>, <strong>SHOULD NOT</strong>, <strong>RECOMMENDED</strong>, <strong>MAY</strong>, and <strong>OPTIONAL</strong> in this document are to be interpreted as described in <code>RFC 2119</code>.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_1.CHSMpKum.svg" alt="diagram 1" loading="lazy"></figure><p><strong>Git</strong> refers to any conformant implementation supporting refs, commits, trees, blobs, notes, and atomic ref updates.</p><p><strong>Hash</strong> defaults to BLAKE3 for content hashes and SHA-256 for policy bundle digests unless otherwise stated.</p><hr><h2 id="_1-system-model" tabindex="-1">1. System Model <a class="header-anchor" href="#_1-system-model" aria-label="Permalink to &quot;1. System Model&quot;">​</a></h2><p><a id="1"></a><a id="1.-system-model"></a></p><p><a id="1"></a><a id="1.-system-model"></a></p><p>A <strong>GATOS node</strong> is a Git repository with a disciplined layout of refs, notes, and artifacts. A <strong>GATOS app</strong> is a set of <strong>schemas</strong>, <strong>policies</strong>, and <strong>folds</strong> that operate on <strong>append-only journals</strong> to produce <strong>deterministic state</strong>.</p><p><strong>GATOS</strong> defines five planes:</p><ol><li><strong>Ledger plane</strong> — append-only journals (<strong>events</strong>).</li><li><strong>State plane</strong> — deterministic folds (<strong>state roots</strong>).</li><li><strong>Policy/Trust plane</strong> — enforceable rules, grants, and multi-party consensus governance.</li><li><strong>Message plane</strong> — a commit-backed pub/sub bus.</li><li><strong>Job plane</strong> — Distributed, verifiable job execution.</li></ol><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_2.l1rqk-X0.svg" alt="diagram 2" loading="lazy"></figure><h3 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h3><p><a id="requirements"></a></p><p><a id="requirements"></a></p><ul><li>Journals <strong>MUST</strong> be fast-forward-only.</li><li>State refs <strong>MUST</strong> be derivable from journals and policies.</li><li>Cache refs <strong>MUST</strong> be rebuildable and <strong>MUST NOT</strong> be authoritative.</li><li>Epochs <strong>MUST</strong> form a cryptographically-linked chain.</li></ul><hr><h2 id="_2-on-disk-layout-normative" tabindex="-1">2. On-Disk Layout (Normative) <a class="header-anchor" href="#_2-on-disk-layout-normative" aria-label="Permalink to &quot;2. On-Disk Layout (Normative)&quot;">​</a></h2><p><a id="2"></a><a id="2.-on-disk-layout-normative"></a></p><p><a id="2"></a><a id="2.-ondisk-layout-normative"></a></p><p>The following diagram illustrates the primary locations for GATOS artifacts within the Git repository (<code>.git</code>) and the working tree.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_3.Bek21FK4.svg" alt="diagram 3" loading="lazy"></figure><p>The normative layout is as follows:</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>.git/</span></span>
<span class="line"><span>├── refs/</span></span>
<span class="line"><span>│   └── gatos/</span></span>
<span class="line"><span>│       ├── journal/</span></span>
<span class="line"><span>│       ├── state/</span></span>
<span class="line"><span>│       ├── mbus/</span></span>
<span class="line"><span>│       ├── mbus-ack/</span></span>
<span class="line"><span>│       ├── jobs/</span></span>
<span class="line"><span>│       │   └── &lt;job-id&gt;/</span></span>
<span class="line"><span>│       │       └── claim</span></span>
<span class="line"><span>│       ├── proposals/</span></span>
<span class="line"><span>│       ├── approvals/</span></span>
<span class="line"><span>│       ├── grants/</span></span>
<span class="line"><span>│       └── revocations/</span></span>
<span class="line"><span>│       ├── sessions/</span></span>
<span class="line"><span>│       ├── audit/</span></span>
<span class="line"><span>│       ├── cache/</span></span>
<span class="line"><span>│       └── epoch/</span></span>
<span class="line"><span>│       └── policies/</span></span>
<span class="line"><span>└── gatos/</span></span>
<span class="line"><span>    ├── policies/</span></span>
<span class="line"><span>    ├── schema/</span></span>
<span class="line"><span>    ├── folds/</span></span>
<span class="line"><span>    ├── trust/</span></span>
<span class="line"><span>    ├── objects/</span></span>
<span class="line"><span>    └── config/</span></span></code></pre></div><p>Active policy bundles and their lineage SHOULD be recorded under <code>refs/gatos/policies/</code>. Implementations MAY track an <code>active</code> pointer (e.g., <code>refs/gatos/policies/active</code>) to select the effective policy root used for gate evaluation.</p><hr><h2 id="_3-identities-actors-and-grants" tabindex="-1">3. Identities, Actors, and Grants <a class="header-anchor" href="#_3-identities-actors-and-grants" aria-label="Permalink to &quot;3. Identities, Actors, and Grants&quot;">​</a></h2><p><a id="3"></a><a id="3.-identities-actors-and-grants"></a></p><p><a id="3"></a><a id="3.-identities-actors-and-grants"></a></p><h3 id="_3-1-actors" tabindex="-1">3.1 Actors <a class="header-anchor" href="#_3-1-actors" aria-label="Permalink to &quot;3.1 Actors&quot;">​</a></h3><p><a id="3.1"></a><a id="3"></a><a id="3.1-actors"></a></p><p><a id="3.1"></a><a id="31"></a><a id="3"></a><a id="3.1-actors"></a></p><p>Actors are strings of the form: <code>user:&lt;name&gt;</code>, <code>agent:&lt;name&gt;</code>, or <code>service:&lt;name&gt;</code>.</p><h3 id="_3-2-capability-grants" tabindex="-1">3.2 Capability Grants <a class="header-anchor" href="#_3-2-capability-grants" aria-label="Permalink to &quot;3.2 Capability Grants&quot;">​</a></h3><p><a id="3.2"></a><a id="3"></a><a id="3.2-capability-grants"></a></p><p><a id="3.2"></a><a id="32"></a><a id="3"></a><a id="3.2-capability-grants"></a></p><p>Grants link an <code>issuer</code> Actor to a <code>subject</code> Actor, bestowing a set of capabilities (<code>caps</code>) that are valid until an expiration date (<code>exp</code>).</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_4.DQ_zYjga.svg" alt="diagram 4" loading="lazy"></figure><p><strong>Grants</strong> <strong>MUST</strong> be committed under <code>gatos/trust/grants/</code>. Verifiers <strong>MUST</strong> validate the signature, issuer trust, audience, and expiry.</p><hr><h2 id="_4-events-ledger-plane" tabindex="-1">4. Events (Ledger Plane) <a class="header-anchor" href="#_4-events-ledger-plane" aria-label="Permalink to &quot;4. Events (Ledger Plane)&quot;">​</a></h2><p><a id="4"></a><a id="4.-events-ledger-plane"></a></p><p><a id="4"></a><a id="4.-events-ledger-plane"></a></p><h3 id="_4-1-event-envelope" tabindex="-1">4.1 Event Envelope <a class="header-anchor" href="#_4-1-event-envelope" aria-label="Permalink to &quot;4.1 Event Envelope&quot;">​</a></h3><p><a id="4.1"></a><a id="4"></a><a id="4.1-event-envelope"></a></p><p><a id="4.1"></a><a id="41"></a><a id="4"></a><a id="4.1-event-envelope"></a></p><p>All actions in GATOS are initiated via a signed Event.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_5.BxTZpG_X.svg" alt="diagram 5" loading="lazy"></figure><p>Canonicalization and signing:</p><ul><li>Encode the envelope (with <code>sig</code> omitted) as <strong>DAG-CBOR</strong> to produce canonical bytes.</li><li>Content addressing: <code>Event-CID = cidv1(dag-cbor, blake3(canonical_bytes))</code>.</li><li>Sign <code>canonical_bytes</code> with <code>sig_alg</code> (e.g., <code>ed25519</code>); record signature in commit trailers.</li><li>Recommended trailers: <code>Event-CID</code>, <code>Sig-Alg</code>, <code>Sig</code>.</li></ul><h3 id="_4-2-journal-semantics" tabindex="-1">4.2 Journal Semantics <a class="header-anchor" href="#_4-2-journal-semantics" aria-label="Permalink to &quot;4.2 Journal Semantics&quot;">​</a></h3><p><a id="4.2"></a><a id="4"></a><a id="4.2-journal-semantics"></a></p><p><a id="4.2"></a><a id="42"></a><a id="4"></a><a id="4.2-journal-semantics"></a></p><p>Appending an event <strong>MUST</strong> create a new commit on an append-only ref in <code>refs/gatos/journal/&lt;ns&gt;/&lt;actor&gt;</code>. Ref updates <strong>MUST</strong> use atomic compare-and-swap via <code>git update-ref &lt;old&gt; &lt;new&gt;</code>.</p><hr><h2 id="_5-state-deterministic-folds" tabindex="-1">5. State (Deterministic Folds) <a class="header-anchor" href="#_5-state-deterministic-folds" aria-label="Permalink to &quot;5. State (Deterministic Folds)&quot;">​</a></h2><p><a id="5"></a><a id="5.-state-deterministic-folds"></a></p><p><a id="5"></a><a id="5.-state-deterministic-folds"></a></p><h3 id="_5-1-fold-function" tabindex="-1">5.1 Fold Function <a class="header-anchor" href="#_5-1-fold-function" aria-label="Permalink to &quot;5.1 Fold Function&quot;">​</a></h3><p><a id="5.1"></a><a id="5"></a><a id="5.1-fold-function"></a></p><p><a id="5.1"></a><a id="51"></a><a id="5"></a><a id="5.1-fold-function"></a></p><p>A <strong>fold</strong> is a pure function: $state_root = F(events_stream, policy_root)$.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_6.CSt0UMVO.svg" alt="diagram 6" loading="lazy"></figure><p>For identical inputs, and the same <code>policy_root</code>, the byte sequence of <code>state_root</code> <strong>MUST</strong> be identical.</p><h3 id="_5-2-fold-spec-checkpoints" tabindex="-1">5.2 Fold Spec &amp; Checkpoints <a class="header-anchor" href="#_5-2-fold-spec-checkpoints" aria-label="Permalink to &quot;5.2 Fold Spec &amp; Checkpoints&quot;">​</a></h3><p><a id="5.2"></a><a id="5"></a><a id="5.2-fold-spec-checkpoints"></a></p><p><a id="5.2"></a><a id="52"></a><a id="5"></a><a id="5.2-fold-spec-checkpoints"></a></p><p>A Fold is defined by a <code>.yaml</code> spec and a compiled EchoLua program (ELC). The EchoLua source is compiled to ELC (serialized DAG-CBOR); <code>fold_root = sha256(ELC_bytes)</code>. Its output, a <strong>State Checkpoint</strong>, is a commit on <code>refs/gatos/state/&lt;ns&gt;</code> whose tree contains the materialized state artifacts.</p><blockquote><p>See also</p><ul><li>Hello walkthrough (Ops): <a href="./guide/HELLO-OPS.html">HELLO-OPS</a> shows append → fold → verify trailers.</li><li>Hello walkthrough (Privacy): <a href="./guide/HELLO-PRIVACY.html">HELLO-PRIVACY</a> shows pointers and deterministic public folds.</li></ul></blockquote><h3 id="_5-3-state-checkpoint-trailers-normative" tabindex="-1">5.3 State Checkpoint Trailers (Normative) <a class="header-anchor" href="#_5-3-state-checkpoint-trailers-normative" aria-label="Permalink to &quot;5.3 State Checkpoint Trailers (Normative)&quot;">​</a></h3><p><a id="5.3"></a><a id="5"></a><a id="5.3-state-checkpoint-trailers-normative"></a></p><p><a id="5.3"></a><a id="53"></a><a id="5"></a><a id="5.3-state-checkpoint-trailers-normative"></a></p><p>Every state checkpoint commit under <code>refs/gatos/state/&lt;ns&gt;</code> <strong>MUST</strong> include the following trailers with canonical encodings:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>State-Root: blake3:&lt;hex&gt;                 # lowercase hex digest of canonical state</span></span>
<span class="line"><span>Ledger-Head: &lt;commit-oid&gt;                # last ledger commit included in this fold</span></span>
<span class="line"><span>Policy-Root: &lt;commit-oid&gt;                # commit/digest that identifies the effective policy</span></span>
<span class="line"><span>Policy-Code-Root: sha256:&lt;hex&gt;           # canonical hash of policy code used (ELC/.rgc)</span></span>
<span class="line"><span>Fold-Engine: echo@&lt;semver&gt;+elc@&lt;semver&gt;+num=q32.32+rng=pcg32@&lt;ver&gt;</span></span>
<span class="line"><span>Fold-Root: sha256:&lt;hex&gt;                  # hash of EchoLua IR bytes (ELC)</span></span>
<span class="line"><span>Fold-Version: &lt;schema-version&gt;            # application/shape schema version</span></span>
<span class="line"><span>Fold-Math: fixed-q32.32                   # numeric model (normative in v1)</span></span>
<span class="line"><span>Fold-RNG: pcg32@&lt;ver&gt;                     # RNG algorithm id + version (if used)</span></span></code></pre></div><p>These trailers enable portable verification and reproducible builds of state across nodes and platforms.</p><blockquote><p>Cross-reference</p><ul><li>TECH-SPEC fold/verification references these trailers.</li><li>Walkthrough usage: <a href="./guide/HELLO-OPS.html#2-fold-to-state-and-inspect">HELLO-OPS</a>.</li></ul></blockquote><h3 id="_5-4-proof-of-fold-pof" tabindex="-1">5.4 Proof-of-Fold (PoF) <a class="header-anchor" href="#_5-4-proof-of-fold-pof" aria-label="Permalink to &quot;5.4 Proof-of-Fold (PoF)&quot;">​</a></h3><p><a id="5.4"></a><a id="5"></a><a id="5.4-proof-of-fold-pof"></a></p><p><a id="5.4"></a><a id="54"></a><a id="5"></a><a id="5.4-proof-of-fold"></a></p><p>A <strong>Proof-of-Fold (PoF)</strong> binds a state checkpoint to the exact ledger window and fold definition used to derive it.</p><p>At minimum, a PoF MUST commit to:</p><ul><li><code>Ledger-Start</code> and <code>Ledger-End</code> commit OIDs (inclusive window),</li><li><code>Policy-Root</code> (or policy digest) used for gate decisions affecting the fold,</li><li><code>Fold-Id</code> (stable identifier or digest of the fold function/spec),</li><li><code>Fold-Root</code> (sha256 of ELC bytes),</li><li><code>State-Root</code> (content hash of the resulting checkpoint),</li><li><code>Policy-Code-Root</code> (sha256 of the canonicalized policy code/ELC),</li><li>Signatures of the folding actor(s) when required by policy.</li></ul><p>Implementations MAY embed PoF in commit trailers or attach a sidecar manifest. Verifiers MUST recompute the fold over the declared window and compare the resulting <code>State-Root</code>.</p><hr><h2 id="_6-policy-decision-audit" tabindex="-1">6. Policy &amp; Decision Audit <a class="header-anchor" href="#_6-policy-decision-audit" aria-label="Permalink to &quot;6. Policy &amp; Decision Audit&quot;">​</a></h2><p><a id="6"></a><a id="6.-policy-decision-audit"></a></p><p><a id="6"></a><a id="6.-policy-decision-audit"></a></p><h3 id="_6-1-gate-contract" tabindex="-1">6.1 Gate Contract <a class="header-anchor" href="#_6-1-gate-contract" aria-label="Permalink to &quot;6.1 Gate Contract&quot;">​</a></h3><p><a id="6.1"></a><a id="6"></a><a id="6.1-gate-contract"></a></p><p><a id="6.1"></a><a id="61"></a><a id="6"></a><a id="6.1-gate-contract"></a></p><p>All events are evaluated by a Policy Gate before being accepted. Gates that execute policy code MUST adhere to the <a href="./deterministic-lua.html">Deterministic Lua (EchoLua)</a> runtime profile. Policy is authored in <code>.rgs</code> and compiled to <code>.rgc</code>/ELC; policy bundles and proofs MUST record <code>Policy-Code-Root</code> so the exact governing code is recoverable. $Decision = Gate.evaluate(intent, context) -&gt; {Allow | Deny(reason)}$</p><p>Note: A deterministic execution profile for Lua will be documented (see <a href="./deterministic-lua.html">Deterministic Lua</a>); policy engines <strong>SHOULD</strong> adhere to that profile to ensure portable verification.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_7.BVQtqfa1.svg" alt="diagram 7" loading="lazy"></figure><p>On <strong>DENY</strong>, the gate <strong>MUST</strong> append an audit decision to <code>refs/gatos/audit/policy</code>.</p><div class="important custom-block github-alert"><p class="custom-block-title">IMPORTANT</p><p>DENY is always logged under audit. Each decision MUST include the policy rule identifier (<code>Policy-Rule</code>), a reproducible reason, and sufficient context (actor, target, refs) for independent verification.</p></div><hr><h2 id="_7-blob-pointers-opaque-storage-hybrid-privacy" tabindex="-1">7. Blob Pointers &amp; Opaque Storage (Hybrid Privacy) <a class="header-anchor" href="#_7-blob-pointers-opaque-storage-hybrid-privacy" aria-label="Permalink to &quot;7. Blob Pointers &amp; Opaque Storage (Hybrid Privacy)&quot;">​</a></h2><p><a id="7"></a><a id="7.-blob-pointers-opaque-storage-hybrid-privacy"></a></p><p><a id="7"></a><a id="7.-blob-pointers-opaque-storage-hybrid-privacy"></a></p><p>Large or sensitive data is stored out-of-band in a content-addressed store and referenced via pointers.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_8.nOwM7A7e.svg" alt="diagram 8" loading="lazy"></figure><p>Pointers <strong>MUST</strong> refer to bytes in <code>gatos/objects/&lt;algo&gt;/&lt;hash&gt;</code>. For opaque objects, no plaintext <strong>MAY</strong> be stored in Git. Public pointers in low-entropy classes <strong>MUST NOT</strong> reveal a plaintext digest; they <strong>MUST</strong> include a ciphertext digest. Pointer <code>size</code> <strong>SHOULD</strong> be bucketed (e.g., 1 KB/4 KB/16 KB/64 KB). If a plaintext commitment is required, use a hiding commitment and store it inside <code>encrypted_meta</code>.</p><hr><h2 id="_8-message-bus-commit-backed-pub-sub" tabindex="-1">8. Message Bus (Commit-Backed Pub/Sub) <a class="header-anchor" href="#_8-message-bus-commit-backed-pub-sub" aria-label="Permalink to &quot;8. Message Bus (Commit-Backed Pub/Sub)&quot;">​</a></h2><p><a id="8"></a><a id="8.-message-bus-commit-backed-pubsub"></a></p><p><a id="8"></a><a id="8.-message-bus-commitbacked-pubsub"></a></p><p>The message bus provides a pub/sub system built on Git commits.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_9.CFebyR87.svg" alt="diagram 9" loading="lazy"></figure><p>Messages are appended to <code>refs/gatos/mbus/&lt;topic&gt;/&lt;shard&gt;</code>. Delivery is <strong>at-least-once</strong>; consumers <strong>MUST</strong> dedupe on read using the message <code>ULID</code> (or content hash) as an idempotency key and <strong>MAY</strong> write <code>ack</code>s to <code>refs/gatos/mbus-ack/</code>. Producers <strong>SHOULD</strong> set idempotency keys.</p><p>Retention and compaction:</p><ul><li>Segment topics by date and ULID (e.g., <code>&lt;topic&gt;/&lt;yyyy&gt;/&lt;mm&gt;/&lt;dd&gt;/&lt;segment-ulid&gt;</code>) and rotate when either a message or size threshold is reached (defaults: 100k messages or ~192 MB).</li><li>Apply TTL to old segments (default: 30 days) and write a summary commit per pruned window (counts + Merkle root of message bodies + last offsets) to preserve verifiable history.</li><li>Deployments <strong>SHOULD</strong> enable <code>fetch.writeCommitGraph=true</code> and <code>repack.writeBitmaps=true</code> for busy topics.</li></ul><hr><h2 id="_9-sessions-working-branches" tabindex="-1">9. Sessions (Working Branches) <a class="header-anchor" href="#_9-sessions-working-branches" aria-label="Permalink to &quot;9. Sessions (Working Branches)&quot;">​</a></h2><p><a id="9"></a><a id="9.-sessions-working-branches"></a></p><p><a id="9"></a><a id="9.-sessions-working-branches"></a></p><p><code>gatos/sessions/&lt;actor&gt;/&lt;ulid&gt;</code> represents an ephemeral branch for interactive mutation.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_10.BudHllDJ.svg" alt="diagram 10" loading="lazy"></figure><hr><h2 id="_10-proofs-commitments-zk" tabindex="-1">10. Proofs (Commitments / ZK) <a class="header-anchor" href="#_10-proofs-commitments-zk" aria-label="Permalink to &quot;10. Proofs (Commitments / ZK)&quot;">​</a></h2><p><a id="10"></a><a id="10.-proofs-commitments-zk"></a></p><p><a id="10"></a><a id="10.-proofs-commitments-zk"></a></p><p>A proof envelope attests to the deterministic execution of a fold or job. Where applicable, proofs MUST record <code>Policy-Code-Root</code> alongside <code>Policy-Root</code> so the governing policy code is unambiguously identified.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_11.DfT2hPZ7.svg" alt="diagram 11" loading="lazy"></figure><p>Proofs <strong>MUST</strong> be stored under <code>refs/gatos/audit/proofs/&lt;ns&gt;</code>.</p><h3 id="_10-x-proof-of-experiment-pox" tabindex="-1">10.x Proof-of-Experiment (PoX) <a class="header-anchor" href="#_10-x-proof-of-experiment-pox" aria-label="Permalink to &quot;10.x Proof-of-Experiment (PoX)&quot;">​</a></h3><p><a id="10"></a><a id="10.x-proof-of-experiment-pox"></a></p><p><a id="10.x"></a></p><p>A <strong>PoX</strong> envelope ties together a scientific artifact’s inputs, program, policy, and outputs:</p><ul><li><code>inputs_root</code> — commitment to input datasets/pointers</li><li><code>program_id</code> — canonical hash of the analysis program/container</li><li><code>policy_root</code> — policy in effect</li><li><code>outputs_root</code> — commitment to results</li><li>Links to associated PoE (jobs) and PoF (state) where applicable</li></ul><p>PoX envelopes <strong>MUST</strong> be stored under <code>refs/gatos/audit/proofs/experiments/&lt;ulid&gt;</code>.</p><hr><h2 id="_11-offline-authority-protocol-oap" tabindex="-1">11. Offline Authority Protocol (OAP) <a class="header-anchor" href="#_11-offline-authority-protocol-oap" aria-label="Permalink to &quot;11. Offline Authority Protocol (OAP)&quot;">​</a></h2><p><a id="11"></a><a id="11.-offline-authority-protocol-oap"></a></p><p><a id="11"></a><a id="11.-offline-authority-protocol-oap"></a></p><p>OAP governs how divergent changes from offline peers are reconciled upon reconnecting.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_12.Bk35JoYA.svg" alt="diagram 12" loading="lazy"></figure><hr><h2 id="_12-profiles" tabindex="-1">12. Profiles <a class="header-anchor" href="#_12-profiles" aria-label="Permalink to &quot;12.  Profiles&quot;">​</a></h2><p><a id="12"></a><a id="12.-profiles"></a></p><p><a id="12"></a><a id="12.-profiles"></a></p><p>Profiles define the enforcement and operational mode of a GATOS node.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_13.B0AxozPJ.svg" alt="diagram 13" loading="lazy"></figure><p>Nodes <strong>MUST</strong> discover the active profile via <code>gatos/config/profile.yaml</code>.</p><h3 id="_12-1-research-profile-strict" tabindex="-1">12.1 Research Profile (Strict) <a class="header-anchor" href="#_12-1-research-profile-strict" aria-label="Permalink to &quot;12.1 Research Profile (Strict)&quot;">​</a></h3><p><a id="12.1"></a><a id="12"></a><a id="12.1-research-profile-strict"></a></p><p><a id="12.1"></a></p><p>Profile id: <code>research</code>.</p><p>Defaults (normative for this profile):</p><ul><li>Proof-of-Fold required on state pushes: pre-receive MUST verify PoF for updates to <code>refs/gatos/state/**</code>.</li><li>Fast-forward-only refs: <code>refs/gatos/policies/**</code>, <code>refs/gatos/state/**</code>, and <code>refs/gatos/audit/**</code>.</li><li>GC anchors: <code>refs/gatos/audit/**</code> and the latest <code>refs/gatos/state/**</code> checkpoints.</li><li>Message bus segmentation and TTL: rotate segments at 100k messages or ~192 MB; TTL 30 days; write summary commits for pruned windows.</li><li>Public pointer hardening: low-entropy classes MUST NOT expose plaintext digests; public pointers MUST include a ciphertext digest; sizes SHOULD be bucketed (e.g., 1 KB, 4 KB, 16 KB, 64 KB).</li></ul><p>Nodes advertising the <code>research</code> profile MUST expose diagnostics for the above and SHOULD surface violations in <code>gatos doctor</code>.</p><hr><h2 id="_13-observability-health" tabindex="-1">13. Observability &amp; Health <a class="header-anchor" href="#_13-observability-health" aria-label="Permalink to &quot;13.  Observability &amp; Health&quot;">​</a></h2><p><a id="13"></a><a id="13.-observability-health"></a></p><p><a id="13"></a><a id="13.-observability-health"></a></p><p>Implementations <strong>SHOULD</strong> expose metrics and provide a health-check CLI command.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_14.CwQMsLdd.svg" alt="diagram 14" loading="lazy"></figure><hr><h2 id="_14-security-model" tabindex="-1">14. Security Model <a class="header-anchor" href="#_14-security-model" aria-label="Permalink to &quot;14.  Security Model&quot;">​</a></h2><p><a id="14"></a><a id="14.-security-model"></a></p><p><a id="14"></a><a id="14.-security-model"></a></p><p>The security model is deny-by-default, governed by capability grants evaluated by the policy engine.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_15.Bpvy6tWI.svg" alt="diagram 15" loading="lazy"></figure><hr><h2 id="_15-performance-gc" tabindex="-1">15. Performance &amp; GC <a class="header-anchor" href="#_15-performance-gc" aria-label="Permalink to &quot;15.  Performance &amp; GC&quot;">​</a></h2><p><a id="15"></a><a id="15.-performance-gc"></a></p><p><a id="15"></a><a id="15.-performance-gc"></a></p><p>Epoch compaction is used to manage repository size over time.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_16.CSVzMRzO.svg" alt="diagram 16" loading="lazy"></figure><h3 id="_15-1-exports-and-explorer-root-normative" tabindex="-1">15.1 Exports and Explorer-Root (Normative) <a class="header-anchor" href="#_15-1-exports-and-explorer-root-normative" aria-label="Permalink to &quot;15.1 Exports and Explorer-Root (Normative)&quot;">​</a></h3><p><a id="15.1"></a><a id="15"></a><a id="15.1-exports-and-explorer-root-normative"></a></p><p><a id="15.1"></a><a id="151"></a><a id="15"></a><a id="15.1-exports-and-explorerroot-normative"></a></p><p>Exporters that materialize views <strong>MUST</strong> emit an <code>Explorer-Root</code> checksum.</p><ul><li>For derived state exports (materialized from folds), include the fold identity:</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Explorer-Root = blake3(ledger_head || policy_root || fold_root || extractor_version)</span></span></code></pre></div><ul><li>For raw ledger exports (no folds applied), omit <code>fold_root</code>:</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Explorer-Root = blake3(ledger_head || policy_root || extractor_version)</span></span></code></pre></div><p>The <code>gatos export verify</code> command <strong>MUST</strong> recompute <code>Explorer-Root</code> against the repository and report mismatches.</p><hr><h2 id="_16-compliance-tests-normative" tabindex="-1">16. Compliance &amp; Tests (Normative) <a class="header-anchor" href="#_16-compliance-tests-normative" aria-label="Permalink to &quot;16.  Compliance &amp; Tests (Normative)&quot;">​</a></h2><p><a id="16"></a><a id="16.-compliance-tests-normative"></a></p><p><a id="16"></a><a id="16.-compliance-tests-normative"></a></p><p>Implementations <strong>MUST</strong> pass a six-point certification inspection.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_17.BJUv_xQs.svg" alt="diagram 17" loading="lazy"></figure><h3 id="_16-1-consensus-integrity-normative" tabindex="-1">16.1 Consensus Integrity (Normative) <a class="header-anchor" href="#_16-1-consensus-integrity-normative" aria-label="Permalink to &quot;16.1 Consensus Integrity (Normative)&quot;">​</a></h3><p><a id="16.1"></a><a id="16"></a><a id="16.1-consensus-integrity-normative"></a></p><p><a id="16.1"></a><a id="161"></a><a id="16"></a><a id="16.1-consensus-integrity-normative"></a></p><ul><li>An action gated by a <code>2-of-3</code> quorum policy MUST be denied with 1 approval and MUST be allowed with 2 approvals.</li><li>A revoked grant MUST NOT be usable.</li></ul><h3 id="_16-2-additional-checks-normative" tabindex="-1">16.2 Additional Checks (Normative) <a class="header-anchor" href="#_16-2-additional-checks-normative" aria-label="Permalink to &quot;16.2 Additional Checks (Normative)&quot;">​</a></h3><p><a id="16.2"></a><a id="16"></a><a id="16.2-additional-checks-normative"></a></p><p><a id="16.2"></a><a id="162"></a><a id="16"></a><a id="16.2-additional-checks-normative"></a></p><ul><li>PoF required: state pushes to <code>refs/gatos/state/**</code> MUST include a verifiable Proof-of-Fold.</li><li>Policies FF-only: <code>refs/gatos/policies/**</code> MUST be fast-forward only.</li><li>Exclusive job claim: exactly one worker MUST succeed in creating <code>refs/gatos/jobs/&lt;job-id&gt;/claim</code> via compare-and-swap.</li><li>Pointer privacy: public pointers for low-entropy classes MUST NOT expose plaintext digests; ciphertext digest present; sizes bucketed.</li><li>Exports: exporters MUST emit <code>Explorer-Root = blake3(ledger_head || policy_root || extractor_version)</code> and <code>gatos export verify</code> MUST validate it.</li></ul><hr><h2 id="_17-cli-reference" tabindex="-1">17. CLI (Reference) <a class="header-anchor" href="#_17-cli-reference" aria-label="Permalink to &quot;17. CLI (Reference)&quot;">​</a></h2><p><a id="17"></a><a id="17.-cli-reference"></a></p><p><a id="17"></a><a id="17.-cli-reference"></a></p><p>The <code>git gatos</code> command provides the primary user interface.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_18.D1X4NcR_.svg" alt="diagram 18" loading="lazy"></figure><p>Key verbs (non-exhaustive):</p><ul><li><code>verify</code> — verify PoX/PoF/PoE signatures &amp; ancestry.</li><li><code>reproduce &lt;pox-id&gt;</code> — fetch pointers, run jobs (PoE), check PoF; report identical/diff.</li><li><code>bisect --state=&lt;ref&gt; --good &lt;ts|commit&gt; --bad &lt;ts|commit&gt; --predicate &lt;script|jq&gt;</code> — binary search over checkpoints.</li><li><code>export parquet|sqlite</code> — emit Explorer-Root; <code>export verify &lt;path&gt;</code> compares it.</li><li><code>foldc &lt;src.lua&gt; -o &lt;out.elc&gt;</code> — compile EchoLua to ELC (records engine id).</li><li><code>policyc &lt;src.rgs&gt; -o &lt;out.rgc&gt;</code> — compile .rgs policy DSL to deterministic IR/ELC.</li></ul><p>See also:</p><ul><li>CLI guides: <a href="./cli/foldc.html">foldc</a>, <a href="./cli/policyc.html">policyc</a>, <a href="./cli/export.html">export</a>, <a href="./cli/pox.html">pox</a>, <a href="./cli/lint.html">lint</a>.</li></ul><hr><h2 id="_18-example-use-case-a-git-native-work-queue" tabindex="-1">18. Example Use Case: A Git-Native Work Queue <a class="header-anchor" href="#_18-example-use-case-a-git-native-work-queue" aria-label="Permalink to &quot;18. Example Use Case: A Git-Native Work Queue&quot;">​</a></h2><p><a id="18"></a><a id="18.-example-use-case-a-git-native-work-queue"></a></p><p><a id="18"></a><a id="18.-example-use-case-a-git-native-work-queue"></a></p><p>This diagram shows the data flow for enqueuing and processing a job.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_19.6wlltvc7.svg" alt="diagram 19" loading="lazy"></figure><hr><h2 id="_19-job-plane-compute" tabindex="-1">19. Job Plane (Compute) <a class="header-anchor" href="#_19-job-plane-compute" aria-label="Permalink to &quot;19. Job Plane (Compute)&quot;">​</a></h2><p><a id="19"></a><a id="19.-job-plane-compute"></a></p><p><a id="19"></a><a id="19.-job-plane-compute"></a></p><p>See also: <a href="./decisions/ADR-0002/DECISION.html">ADR-0002</a>.</p><p>The Job Plane provides a system for scheduling, executing, and recording the results of distributed, asynchronous jobs.</p><h3 id="_19-1-job-lifecycle" tabindex="-1">19.1 Job Lifecycle <a class="header-anchor" href="#_19-1-job-lifecycle" aria-label="Permalink to &quot;19.1 Job Lifecycle&quot;">​</a></h3><p><a id="19.1"></a><a id="19"></a><a id="19.1-job-lifecycle"></a></p><p><a id="19.1"></a><a id="191"></a><a id="19"></a><a id="19.1-job-lifecycle"></a></p><p>This diagram illustrates how the state of a Job transitions based on events recorded in the GATOS ledger.</p><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_20.3Q8RmYGz.svg" alt="diagram 20" loading="lazy"></figure><p>The lifecycle is represented entirely through Git objects:</p><ul><li><strong>Job:</strong> A commit whose tree contains a <code>job.yaml</code> manifest.</li><li><strong>Claim:</strong> An atomic ref under <code>refs/gatos/jobs/&lt;job-id&gt;/claims/&lt;worker-id&gt;</code>, where <code>&lt;job-id&gt;</code> is the canonical BLAKE3 <code>content_id</code> of the job manifest (see ADR-0002 Canonical Job Identifier).</li><li><strong>Result:</strong> A commit referencing the job commit, containing a <code>Proof-Of-Execution</code>.</li></ul><h3 id="_19-2-job-discovery" tabindex="-1">19.2 Job Discovery <a class="header-anchor" href="#_19-2-job-discovery" aria-label="Permalink to &quot;19.2 Job Discovery&quot;">​</a></h3><p><a id="19.2"></a><a id="19"></a><a id="19.2-job-discovery"></a></p><p><a id="19.2"></a><a id="192"></a><a id="19"></a><a id="19.2-job-discovery"></a></p><p>When a <strong>Job</strong> commit is created, a message <strong>MUST</strong> be published to a topic on the Message Plane for discovery by workers. Delivery is at-least-once; workers MUST be idempotent.</p><h3 id="_19-3-proof-of-execution" tabindex="-1">19.3 Proof-Of-Execution <a class="header-anchor" href="#_19-3-proof-of-execution" aria-label="Permalink to &quot;19.3 Proof-Of-Execution&quot;">​</a></h3><p><a id="19.3"></a><a id="19"></a><a id="19.3-proof-of-execution"></a></p><p><a id="19.3"></a><a id="193"></a><a id="19"></a><a id="19.3-proof-of-execution"></a></p><p>The <strong>Proof-Of-Execution (PoE)</strong> MUST sign the job’s canonical <code>content_id</code> (BLAKE3 of the canonical unsigned job core). Trailers MUST use canonical, prefixed encodings as follows:</p><ul><li><code>Job-Id: blake3:&lt;hex&gt;</code> — canonical job identifier (content_id)</li><li><code>Proof-Of-Execution: blake3:&lt;hex&gt;</code> — digest of the PoE envelope</li><li><code>Worker-Id: ed25519:&lt;pubkey&gt;</code> — worker public key identifier</li><li><code>Attest-Program: blake3:&lt;hex&gt;</code> — hash of runner binary or WASM module (RECOMMENDED)</li><li><code>Attest-Sig: ed25519:&lt;sig&gt;</code> — signature over the attestation envelope (OPTIONAL)</li></ul><p>Example (trailers):</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Job-Id: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Worker-Id: ed25519:&lt;pubkey&gt;</span></span>
<span class="line"><span>Proof-Of-Execution: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Attest-Program: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Attest-Sig: ed25519:&lt;sig&gt;</span></span></code></pre></div><p>See ADR-0002 for the normative PoE requirements and ADR-0001 for the definition of <code>content_id</code> and canonical serialization.</p><hr><h2 id="_20-consensus-governance-normative" tabindex="-1">20. Consensus Governance (Normative) <a class="header-anchor" href="#_20-consensus-governance-normative" aria-label="Permalink to &quot;20. Consensus Governance (Normative)&quot;">​</a></h2><p><a id="20"></a><a id="20.-consensus-governance-normative"></a></p><p><a id="20"></a><a id="20.-consensus-governance-normative"></a></p><p>See also: <a href="./decisions/ADR-0003/DECISION.html">ADR-0003</a>.</p><p>Governs gated actions via proposals, approvals, and grants. Governance artifacts are Git commits under dedicated refs (see on-disk layout). All trailers MUST use canonical, prefixed encodings (<code>blake3:&lt;hex&gt;</code>, <code>ed25519:&lt;pubkey&gt;</code>).</p><h3 id="_20-1-workflow" tabindex="-1">20.1 Workflow <a class="header-anchor" href="#_20-1-workflow" aria-label="Permalink to &quot;20.1 Workflow&quot;">​</a></h3><p><a id="20.1"></a><a id="20"></a><a id="20.1-workflow"></a></p><p><a id="20.1"></a><a id="201"></a><a id="20"></a><a id="20.1-workflow"></a></p><p>Proposal → Approvals (N-of-M) → Grant. Quorum groups (e.g., <code>@leads</code>) MUST be defined in the trust graph (<code>gatos/trust/graph.json</code>).</p><h3 id="_20-2-commit-structures-trailers" tabindex="-1">20.2 Commit Structures (Trailers) <a class="header-anchor" href="#_20-2-commit-structures-trailers" aria-label="Permalink to &quot;20.2 Commit Structures (Trailers)&quot;">​</a></h3><p><a id="20.2"></a><a id="20"></a><a id="20.2-commit-structures-trailers"></a></p><p><a id="20.2"></a><a id="202"></a><a id="20"></a><a id="20.2-commit-structures-trailers"></a></p><ul><li><p>Proposal (at <code>refs/gatos/proposals/…</code>):</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Action: &lt;string&gt;</span></span>
<span class="line"><span>Target: &lt;uri&gt;</span></span>
<span class="line"><span>Proposal-Id: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Required-Quorum: &lt;expr&gt;</span></span>
<span class="line"><span>Expire-At: &lt;ISO8601&gt;</span></span>
<span class="line"><span>Policy-Rule: &lt;policy id&gt;</span></span>
<span class="line"><span>Created-By: &lt;actor&gt;</span></span></code></pre></div><p>(Note: <code>gatos://</code> is the canonical URI scheme for addressing resources managed within the GATOS operating surface.)</p></li><li><p>Approval (at <code>refs/gatos/approvals/…</code>):</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Proposal-Id: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Approval-Id: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Signer: ed25519:&lt;pubkey&gt;</span></span>
<span class="line"><span>Expires-At: &lt;ISO8601&gt;   # OPTIONAL</span></span></code></pre></div></li><li><p>Grant (at <code>refs/gatos/grants/…</code>):</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Proposal-Id: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Grant-Id: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Proof-Of-Consensus: blake3:&lt;hex&gt;</span></span></code></pre></div></li></ul><h3 id="_20-3-proof-of-consensus-poc" tabindex="-1">20.3 Proof-Of-Consensus (PoC) <a class="header-anchor" href="#_20-3-proof-of-consensus-poc" aria-label="Permalink to &quot;20.3 Proof-Of-Consensus (PoC)&quot;">​</a></h3><p><a id="20.3"></a><a id="20"></a><a id="20.3-proof-of-consensus-poc"></a></p><p><a id="20.3"></a><a id="203"></a><a id="20"></a><a id="20.3-proofofconsensus-poc"></a></p><p><code>Proof-Of-Consensus</code> is the BLAKE3 of a canonical JSON envelope containing:</p><ul><li>The canonical proposal envelope (by value or <code>Proposal-Id</code>).</li><li>A sorted list (by <code>Signer</code>) of all valid approvals used to reach quorum (by value or <code>Approval-Id</code>).</li><li>The governance rule id (<code>Policy-Rule</code>) and effective quorum parameters.</li></ul><p>PoC envelope SHOULD be stored canonically under <code>refs/gatos/audit/proofs/governance/&lt;proposal-id&gt;</code>; the Grant’s <code>Proof-Of-Consensus</code> trailer MUST equal <code>blake3(envelope_bytes)</code>.</p><h3 id="_20-4-lifecycle-states" tabindex="-1">20.4 Lifecycle States <a class="header-anchor" href="#_20-4-lifecycle-states" aria-label="Permalink to &quot;20.4 Lifecycle States&quot;">​</a></h3><p><a id="20.4"></a><a id="20"></a><a id="20.4-lifecycle-states"></a></p><p><a id="20.4"></a><a id="204"></a><a id="20"></a><a id="20.4-lifecycle-states"></a></p><table tabindex="0"><thead><tr><th style="text-align:left;">State</th><th style="text-align:left;">Meaning</th></tr></thead><tbody><tr><td style="text-align:left;">proposal</td><td style="text-align:left;">Awaiting votes</td></tr><tr><td style="text-align:left;">partial</td><td style="text-align:left;">Some approvals collected</td></tr><tr><td style="text-align:left;">granted</td><td style="text-align:left;">Quorum reached; action allowed</td></tr><tr><td style="text-align:left;">expired</td><td style="text-align:left;">Proposal timed out</td></tr><tr><td style="text-align:left;">revoked</td><td style="text-align:left;">Grant withdrawn or superseded</td></tr></tbody></table><figure><img src="/gatos/pr-preview/pr-64/assets/docs_SPEC__0679d036ea__mermaid_21.FdUSZu5I.svg" alt="diagram 21" loading="lazy"></figure><h3 id="_20-5-revocation" tabindex="-1">20.5 Revocation <a class="header-anchor" href="#_20-5-revocation" aria-label="Permalink to &quot;20.5 Revocation&quot;">​</a></h3><p><a id="20.5"></a><a id="20"></a><a id="20.5-revocation"></a></p><p><a id="20.5"></a><a id="205"></a><a id="20"></a><a id="20.5-revocation"></a></p><p>A grant MAY be revoked by creating a <code>revocation</code> commit under <code>refs/gatos/revocations/</code> with trailers:</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Grant-Id: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Revocation-Id: blake3:&lt;hex&gt;</span></span>
<span class="line"><span>Reason: &lt;free-text&gt;</span></span>
<span class="line"><span>Revoked-By: &lt;actor&gt;</span></span></code></pre></div><h3 id="_20-6-bus-topics-recommended" tabindex="-1">20.6 Bus Topics (recommended) <a class="header-anchor" href="#_20-6-bus-topics-recommended" aria-label="Permalink to &quot;20.6 Bus Topics (recommended)&quot;">​</a></h3><p><a id="20.6"></a><a id="20"></a><a id="20.6-bus-topics-recommended"></a></p><p><a id="20.6"></a><a id="206"></a><a id="20"></a><a id="20.6-bus-topics-recommended"></a></p><p><code>gatos.governance.proposal.created</code>, <code>gatos.governance.approval.created</code>, <code>gatos.governance.grant.created</code>, <code>gatos.governance.grant.revoked</code>.</p><hr><h2 id="glossary" tabindex="-1">Glossary <a class="header-anchor" href="#glossary" aria-label="Permalink to &quot;Glossary&quot;">​</a></h2><p><a id="glossary"></a></p><p><a id="glossary"></a></p><ul><li>PoF — Proof-of-Fold. Evidence that a state root was derived deterministically from a specific ledger window under a specific fold/policy root.</li><li>PoE — Proof-of-Execution. Signed attestation that a worker executed a job (who/what/where/inputs/outputs).</li><li>PoC — Proof-of-Consensus. Evidence that a governance action met its quorum/approval rules.</li><li>PoX — Proof-of-Experiment. Bundle tying inputs → program → outputs for scientific reproducibility.</li><li>ULID — Lexicographically sortable identifier used as an idempotency key for messages.</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><!----><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2025-11-14T03:57:13.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><!----></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/gatos/pr-preview/pr-64/TECH-SPEC.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>TECH-SPEC</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"cli_export.md\":\"DjIj7HNB\",\"cli_foldc.md\":\"B44UFC5z\",\"cli_lint.md\":\"C2vKqd3h\",\"cli_policyc.md\":\"CbxDMyFv\",\"cli_pox.md\":\"o4ht0HDk\",\"decisions_adr-0001_decision.md\":\"C8Uryn3k\",\"decisions_adr-0001_flyingrobots.md\":\"Bt3W4vSw\",\"decisions_adr-0002_decision.md\":\"CDbgUwR_\",\"decisions_adr-0003_decision.md\":\"DuO6Gpdf\",\"decisions_readme.md\":\"BW7TeR7E\",\"deterministic-lua.md\":\"k5Aba7oO\",\"diagrams_api_endpoints.md\":\"CbERBkrj\",\"diagrams_architecture.md\":\"CM5jW3DB\",\"diagrams_data_flow.md\":\"B2WoHofU\",\"diagrams_state_management.md\":\"D_2FyMFp\",\"exporter.md\":\"C4KL2l8W\",\"faq.md\":\"Db5eqMUW\",\"features.md\":\"zZZZoQ6w\",\"guide_chapter-001.md\":\"B_-TiZbr\",\"guide_chapter-002.md\":\"VlMi6vRQ\",\"guide_chapter-003.md\":\"Cl9eE0Ez\",\"guide_chapter-004.md\":\"DJGrHa6I\",\"guide_chapter-005.md\":\"BvdmBODw\",\"guide_chapter-006.md\":\"CZkHsr9-\",\"guide_chapter-007.md\":\"CDxQmArp\",\"guide_chapter-008.md\":\"CrGb5zr3\",\"guide_chapter-009.md\":\"D4JX9BlH\",\"guide_chapter-010.md\":\"CU5xt4-4\",\"guide_chapter-011.md\":\"B50dnout\",\"guide_chapter-012.md\":\"D7d1FrZ4\",\"guide_hello-ops.md\":\"BsiaX24p\",\"guide_hello-privacy.md\":\"A-4eursE\",\"guide_readme.md\":\"DuCPEqPG\",\"index.md\":\"2b09qvTJ\",\"opaque-pointers.md\":\"BLWTE80p\",\"opaque-resolver.md\":\"BsFOswds\",\"proofs_proof-of-consensus.md\":\"DQ-DrFmz\",\"proofs_proof-of-execution.md\":\"Brlhg1z8\",\"proofs_proof-of-experiment.md\":\"Bfu8sWwt\",\"proofs_proof-of-fold.md\":\"Btn1Yri7\",\"research-profile.md\":\"DNSrRi6n\",\"roadmap-xtask.md\":\"1D8M_T4a\",\"roadmap.md\":\"Ce3leZ8Q\",\"spec.md\":\"CeF-G8eW\",\"stakeholders.md\":\"8Bz_7mp3\",\"stargate-push-gate.md\":\"DyA207uv\",\"tasks.md\":\"CoDu33rT\",\"tech-spec.md\":\"DOHH77HW\",\"use-cases.md\":\"DQOIWpwt\",\"why-not-x.md\":\"CLGdp-tR\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"GATOS\",\"description\":\"Git As The Operating Surface\",\"base\":\"/gatos/pr-preview/pr-64/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Book\",\"link\":\"/guide/CHAPTER-001\"},{\"text\":\"SPEC\",\"link\":\"/SPEC\"},{\"text\":\"TECH-SPEC\",\"link\":\"/TECH-SPEC\"},{\"text\":\"ADRs\",\"link\":\"/decisions/README\"}],\"sidebar\":{\"/guide/\":[{\"text\":\"The GATOS Book\",\"items\":[{\"text\":\"Chapter 1: The GATOS System Model\",\"link\":\"/guide/CHAPTER-001\"},{\"text\":\"Chapter 2–The Ledger Plane: An Immutable History\",\"link\":\"/guide/CHAPTER-002\"},{\"text\":\"Chapter 3: The State Plane: Deterministic Folds\",\"link\":\"/guide/CHAPTER-003\"},{\"text\":\"Chapter 4: The Policy Plane: Governance as Code\",\"link\":\"/guide/CHAPTER-004\"},{\"text\":\"Chapter 5: Project Stargate: Local Enforcement & Magic Mirrors\",\"link\":\"/guide/CHAPTER-005\"},{\"text\":\"Chapter 6: The Message & Job Planes: Distributed Workflows\",\"link\":\"/guide/CHAPTER-006\"},{\"text\":\"Chapter 7: Federation & Mind-Melds: Cross-Repo Operations\",\"link\":\"/guide/CHAPTER-007\"},{\"text\":\"Chapter 8: Interfaces & Integration\",\"link\":\"/guide/CHAPTER-008\"},{\"text\":\"Chapter 9: The GATOS Morphology Calculus\",\"link\":\"/guide/CHAPTER-009\"},{\"text\":\"Chapter 10: Proofs, Attestation, and Privacy\",\"link\":\"/guide/CHAPTER-010\"},{\"text\":\"Chapter 11: Performance: Partial Folds, Caching, and Exploration\",\"link\":\"/guide/CHAPTER-011\"},{\"text\":\"Chapter 12: The GATOS Vision\",\"link\":\"/guide/CHAPTER-012\"}]}],\"/\":[{\"text\":\"Reference\",\"items\":[{\"text\":\"SPEC\",\"link\":\"/SPEC\"},{\"text\":\"TECH-SPEC\",\"link\":\"/TECH-SPEC\"},{\"text\":\"ADRs\",\"link\":\"/decisions/README\"}]}]},\"outline\":\"deep\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/flyingrobots/gatos\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>