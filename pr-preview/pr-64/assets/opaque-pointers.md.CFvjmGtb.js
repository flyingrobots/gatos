import{_ as e,c as a,o as t,a3 as s}from"./chunks/framework.BXNB9gP7.js";const u=JSON.parse('{"title":"Opaque Pointers — Privacy by Construction","description":"","frontmatter":{"title":"Opaque Pointers — Privacy by Construction"},"headers":[],"relativePath":"opaque-pointers.md","filePath":"opaque-pointers.md","lastUpdated":1763130712000}'),o={name:"opaque-pointers.md"};function r(l,i,n,p,d,c){return t(),a("div",{"data-pagefind-body":!0},[...i[0]||(i[0]=[s('<h1 id="opaque-pointers-—-privacy-by-construction" tabindex="-1">Opaque Pointers — Privacy by Construction <a class="header-anchor" href="#opaque-pointers-—-privacy-by-construction" aria-label="Permalink to &quot;Opaque Pointers — Privacy by Construction&quot;">​</a></h1><p><a id="opaque-pointers--privacy-by-construction"></a><a id="opaque-pointers-privacy-by-construction"></a></p><ul><li><a href="#public-pointer-rules-normative">Public Pointer Rules (Normative)</a></li><li><a href="#availability-resolver">Availability &amp; Resolver</a></li><li><a href="#projection-determinism">Projection Determinism</a></li><li><a href="#baa-blob-availability-attestation">BAA — Blob Availability Attestation</a></li></ul><p><a id="opaque-pointers-privacy-by-construction"></a></p><p>Opaque Pointers allow public verification with private bytes.</p><h2 id="public-pointer-rules-normative" tabindex="-1">Public Pointer Rules (Normative) <a class="header-anchor" href="#public-pointer-rules-normative" aria-label="Permalink to &quot;Public Pointer Rules (Normative)&quot;">​</a></h2><p><a id="public-pointer-rules-normative"></a> See [[[[[[<a href="/gatos/pr-preview/pr-64/SPEC.html#7">SPEC §7</a>](/SPEC#7)](/SPEC#7)](/SPEC#7)](/SPEC#7)](/SPEC#7)](/SPEC#7) and Research Profile §12.1.</p><ul><li>Low-entropy classes: public pointers <strong>MUST NOT</strong> expose plaintext digests.</li><li>Public pointers <strong>MUST</strong> include a <code>ciphertext_digest</code>.</li><li>Pointer <code>size</code> <strong>SHOULD</strong> be bucketed (e.g., 1 KB, 4 KB, 16 KB, 64 KB).</li><li>Plaintext commitments, if needed, MUST be hidden (stored in <code>encrypted_meta</code>).</li></ul><h2 id="availability-resolver" tabindex="-1">Availability &amp; Resolver <a class="header-anchor" href="#availability-resolver" aria-label="Permalink to &quot;Availability &amp; Resolver&quot;">​</a></h2><p><a id="availability--resolver"></a><a id="availability-resolver"></a> Resolvers serve private bytes to authorized clients.</p><p>Headers:</p><ul><li><code>Digest: blake3=&lt;hex&gt;</code></li><li><code>X-BLAKE3-Digest: &lt;hex&gt;</code> (duplicate for intermediaries)</li></ul><p>Auth (normative default): Bearer JWT; log decisions under <code>refs/gatos/audit/</code>.</p><p>Required JWT claims:</p><ul><li><code>sub</code> — subject (requesting principal)</li><li><code>aud</code> — audience (resolver/repo id)</li><li><code>exp</code> — expiry (short-lived)</li><li>Optional <code>scope</code> — dataset/namespace scope</li></ul><p>Optional extensions: HTTP Message Signatures and/or mTLS may be supported; they are not required for the Research profile.</p><h2 id="projection-determinism" tabindex="-1">Projection Determinism <a class="header-anchor" href="#projection-determinism" aria-label="Permalink to &quot;Projection Determinism&quot;">​</a></h2><p><a id="projection-determinism"></a> Folds operate on pointer shapes, not plaintext bytes. Any materialized computation over decrypted data runs in jobs (PoE) and contributes to PoF/PoX rather than the public fold itself.</p><h2 id="baa-—-blob-availability-attestation" tabindex="-1">BAA — Blob Availability Attestation <a class="header-anchor" href="#baa-—-blob-availability-attestation" aria-label="Permalink to &quot;BAA — Blob Availability Attestation&quot;">​</a></h2><p><a id="baa--blob-availability-attestation"></a><a id="baa-blob-availability-attestation"></a></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;blob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;blake3:&lt;hex&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;store&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s3://bucket/path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;retain_until&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2026-01-01T00:00:00Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;sig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ed25519:&lt;base64&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><p>Policies can require a valid BAA before accepting pointers into state.</p>',22)])])}const b=e(o,[["render",r]]);export{u as __pageData,b as default};
