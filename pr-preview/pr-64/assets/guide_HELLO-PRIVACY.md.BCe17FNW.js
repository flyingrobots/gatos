import{_ as a,c as s,o as e,a3 as t}from"./chunks/framework.BXNB9gP7.js";const c=JSON.parse('{"title":"Hello, GATOS — Data Privacy Path","description":"","frontmatter":{},"headers":[],"relativePath":"guide/HELLO-PRIVACY.md","filePath":"guide/HELLO-PRIVACY.md","lastUpdated":1763130351000}'),n={name:"guide/HELLO-PRIVACY.md"};function l(p,i,h,r,o,d){return e(),s("div",{"data-pagefind-body":!0},[...i[0]||(i[0]=[t(`<h1 id="hello-gatos-—-data-privacy-path" tabindex="-1">Hello, GATOS — Data Privacy Path <a class="header-anchor" href="#hello-gatos-—-data-privacy-path" aria-label="Permalink to &quot;Hello, GATOS — Data Privacy Path&quot;">​</a></h1><p><a id="hello-gatos--data-privacy-path"></a><a id="hello-gatos-data-privacy-path"></a></p><ul><li><a href="#0">0. Prepare a Private Blob</a></li><li><a href="#1">1. Add Encrypted Blob and Create Opaque Pointer</a></li><li><a href="#2">2. Rekey the Blob</a></li><li><a href="#3">3. Determinism Notes</a></li><li><a href="#troubleshooting">Troubleshooting</a></li></ul><p><a id="hello-gatos-data-privacy-path"></a></p><p>This walkthrough demonstrates the hybrid privacy model: creating an opaque pointer for a private blob, folding deterministically, and rekeying the blob.</p><blockquote><p>Model recap</p><ul><li>Public state: pushable materialized state.</li><li>Private overlay: encrypted blobs addressed via opaque pointers.</li><li>Public pointers MUST NOT reveal a plaintext hash; store it inside encrypted meta (or use a hiding commitment).</li></ul></blockquote><h2 id="_0-prepare-a-private-blob" tabindex="-1">0. Prepare a Private Blob <a class="header-anchor" href="#_0-prepare-a-private-blob" aria-label="Permalink to &quot;0. Prepare a Private Blob&quot;">​</a></h2><p><a id="0-prepare-a-private-blob"></a><a id="0.-prepare-a-private-blob"></a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Very secret string&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> secret.txt</span></span></code></pre></div><h2 id="_1-add-encrypted-blob-and-create-opaque-pointer" tabindex="-1">1. Add Encrypted Blob and Create Opaque Pointer <a class="header-anchor" href="#_1-add-encrypted-blob-and-create-opaque-pointer" aria-label="Permalink to &quot;1. Add Encrypted Blob and Create Opaque Pointer&quot;">​</a></h2><p><a id="1-add-encrypted-blob-and-create-opaque-pointer"></a><a id="1.-add-encrypted-blob-and-create-opaque-pointer"></a> Use the CLI (or JSONL) to store an encrypted blob and emit an opaque pointer that references it.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Example CLI (shape may evolve)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gatos</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> blob</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --encrypt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> secret.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pointers/secret.ptr.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pointers/secret.ptr.json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><p>A pointer contains at least:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;kind&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;opaque&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;algo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;blake3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ciphertext_hash&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;blake3:&lt;hex&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;encrypted_meta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;base64:...&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // contains plaintext commitment, KMS refs, cipher params</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Commit the pointer on an event, then fold:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gatos</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> event</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ns</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> privacy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> demo.pointer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --payload</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @pointers/secret.ptr.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gatos</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fold</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ns</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> privacy</span></span></code></pre></div><p><code>State-Root</code> is computed deterministically from the public shape. Authorized workers can decrypt and verify the plaintext commitment from <code>encrypted_meta</code> outside the repository as needed.</p><h2 id="_2-rekey-the-blob" tabindex="-1">2. Rekey the Blob <a class="header-anchor" href="#_2-rekey-the-blob" aria-label="Permalink to &quot;2. Rekey the Blob&quot;">​</a></h2><p><a id="2-rekey-the-blob"></a><a id="2.-rekey-the-blob"></a> Rotate keys without changing the underlying plaintext.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gatos</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> blob</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rekey</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ptr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pointers/secret.ptr.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kms://key/new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pointers/secret.rekeyed.ptr.json</span></span></code></pre></div><p>Fold again; the public state’s <code>State-Root</code> remains stable if the high-level state hasn’t changed:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gatos</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fold</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ns</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> privacy</span></span></code></pre></div><h2 id="_3-determinism-notes" tabindex="-1">3. Determinism Notes <a class="header-anchor" href="#_3-determinism-notes" aria-label="Permalink to &quot;3. Determinism Notes&quot;">​</a></h2><p><a id="3-determinism-notes"></a><a id="3.-determinism-notes"></a></p><ul><li>The public <code>State-Root</code> for views that include only pointers is stable across rekeys.</li><li>Any materialized computations over decrypted plaintext must use deterministic pipelines and should record proofs (e.g., PoE/ZK) if audited.</li></ul><hr><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><p><a id="troubleshooting"></a></p><ul><li>Ensure storage backends provide a Blob Availability Attestation (BAA): <code>{ blob, store, retain_until, sig }</code>.</li><li>Policy can require a valid BAA before accepting pointers.</li></ul>`,29)])])}const g=a(n,[["render",l]]);export{c as __pageData,g as default};
