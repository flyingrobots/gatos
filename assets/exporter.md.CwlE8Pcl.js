import{_ as a,c as s,o as t,a3 as o}from"./chunks/framework.De09ol_b.js";const m=JSON.parse('{"title":"Explorer Off-Ramp & Explorer-Root","description":"","frontmatter":{"title":"Explorer Off-Ramp & Explorer-Root"},"headers":[],"relativePath":"exporter.md","filePath":"exporter.md","lastUpdated":1763334273000}'),i={name:"exporter.md"};function r(p,e,l,n,d,h){return t(),s("div",{"data-pagefind-body":!0},[...e[0]||(e[0]=[o(`<h1 id="explorer-off-ramp-explorer-root" tabindex="-1">Explorer Off-Ramp &amp; Explorer-Root <a class="header-anchor" href="#explorer-off-ramp-explorer-root" aria-label="Permalink to &quot;Explorer Off-Ramp &amp; Explorer-Root&quot;">​</a></h1><p><a id="explorer-off-ramp-explorer-root"></a></p><ul><li><a href="#explorer-root-normative">Explorer-Root (Normative)</a></li><li><a href="#recommended-layout">Recommended Layout</a></li><li><a href="#failure-modes">Failure Modes</a></li></ul><p><a id="explorer-offramp-explorerroot"></a></p><p>Exports let you analyze GATOS state outside the repo (e.g., Parquet/SQLite) while preserving verifiability.</p><h2 id="explorer-root-normative" tabindex="-1">Explorer-Root (Normative) <a class="header-anchor" href="#explorer-root-normative" aria-label="Permalink to &quot;Explorer-Root (Normative)&quot;">​</a></h2><p><a id="explorer-root-normative"></a> See [[[[[[<a href="/gatos/SPEC.html#15.1">SPEC §15.1</a>](/SPEC#15.1)](/SPEC#15.1)](/SPEC#15.1)](/SPEC#15.1)](/SPEC#15.1)](/SPEC#15.1). Exporters <strong>MUST</strong> compute <code>Explorer-Root</code>.</p><p>Derived state exports (from folds) include <code>state_root</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Explorer-Root = blake3(ledger_head || policy_root || state_root || extractor_version)</span></span></code></pre></div><p>Raw ledger exports (no folds) omit <code>fold_root</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Explorer-Root = blake3(ledger_head || policy_root || extractor_version)</span></span></code></pre></div><p>CLI:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Export a view and write Explorer-Root alongside artifacts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gatos</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> export</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> parquet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ns</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> demo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exports/demo/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Verify an export matches the repo’s current ledger/policy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gatos</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> export</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> verify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exports/demo/</span></span></code></pre></div><p>An export is valid if its computed Explorer-Root matches recomputation from the repository at verification time. Any divergence (new commits, policy change, or extractor version change) must produce a mismatch.</p><h2 id="recommended-layout" tabindex="-1">Recommended Layout <a class="header-anchor" href="#recommended-layout" aria-label="Permalink to &quot;Recommended Layout&quot;">​</a></h2><p><a id="recommended-layout"></a></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>exports/&lt;name&gt;/</span></span>
<span class="line"><span>  ├─ data/*.parquet</span></span>
<span class="line"><span>  ├─ schema/*.json</span></span>
<span class="line"><span>  ├─ explorer-root.txt      # hex digest</span></span>
<span class="line"><span>  └─ meta.json              # { ledger_head, policy_root, extractor_version, generated_at }</span></span></code></pre></div><h2 id="failure-modes" tabindex="-1">Failure Modes <a class="header-anchor" href="#failure-modes" aria-label="Permalink to &quot;Failure Modes&quot;">​</a></h2><p><a id="failure-modes"></a></p><ul><li>Mismatch: repo advanced or artifacts altered → <code>verify</code> fails.</li><li>Partial exports: mark incomplete and refuse <code>verify</code>.</li><li>Sampling: if present, must record sample strategy/seed; <code>verify</code> should refuse unless explicitly allowed.</li></ul>`,20)])])}const u=a(i,[["render",r]]);export{m as __pageData,u as default};
